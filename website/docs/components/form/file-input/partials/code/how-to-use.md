## How to use this component

The File Input component uses the native HTML input with `type="file"` under the hood but adds visual styling to match other HDS components.

There are two ways to use the File Input component:

- `Form::FileInput::Base`—the Base component: just the `<input type="file">` control.
- `Form::FileInput::Field`—the Field component: the `<input type="file">` control, with label, helper text, and error messaging (in a wrapping container).

We recommend using the Field component as it provides built-in accessibility functionality. Use the Base component if you need to achieve custom layouts or for special use cases not covered by the Field component.

{{! ================= }} {{! ===== FIELD ===== }} {{! ================= }}

### Form::FileInput::Field

```handlebars
<Hds::Form::FileInput::Field name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
</Hds::Form::FileInput::Field>
```

#### Helper text

You can add extra information to the field using helper text. When helper text is added, the component automatically adds an `aria-describedby` attribute to the input control, associating it with the automatically generated `ID` of the helper text element.

```handlebars
<Hds::Form::FileInput::Field name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
  <F.HelperText>File size should be a maximum of 2 MB.</F.HelperText>
</Hds::Form::FileInput::Field>
```

#### Extra content in label and helper text

!!! Warning

If a link is used within a label, helper text, or error text, it will not be presented as a link to the user with a screen reader; only the text content is read out. As such, care should be taken when considering this feature. If you do need to include a link, include a screen reader-only message that informs the user that some help text includes links, and additional keyboard exploration may be required.

!!!

The `Label` and `HelperText` contextual components used in the Field component yield their content. This means you can also pass structured content.

```handlebars
<Hds::Form::FileInput::Field name="demo-profile-photo" as |F|>
  <F.Label>Upload a file <Hds::Badge @size="small" @text="Beta" /></F.Label>
  <F.HelperText>This is an <Hds::Link::Inline @href="#">experimental feature</Hds::Link::Inline>.</F.HelperText>
</Hds::Form::FileInput::Field>
```

#### Required vs. optional

Use the `@isRequired` and `@isOptional` arguments to add a visual indication that the field is "required" or "optional".

```handlebars
<Hds::Form::FileInput::Field @isRequired={{true}} name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
  <F.HelperText>File size should be a maximum of 2 MB.</F.HelperText>
</Hds::Form::FileInput::Field>
<br />
<Hds::Form::FileInput::Field @isOptional={{true}} name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
  <F.HelperText>File size should be a maximum of 2 MB.</F.HelperText>
</Hds::Form::FileInput::Field>
```

#### Validation

To indicate a field is invalid, provide an error message using the `Error` contextual component.

```handlebars
<Hds::Form::FileInput::Field name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
  <F.Error>The provided file format is not valid.</F.Error>
</Hds::Form::FileInput::Field>
```

Add more than one error message using the more specific `Message` contextual component.

```handlebars
<Hds::Form::FileInput::Field name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
  <F.Error as |E|>
    <E.Message>File size should be a maximum of 2 MB.</E.Message>
    <E.Message>Dimensions should be a minimum of 100px × 100px.</E.Message>
  </F.Error>
</Hds::Form::FileInput::Field>
```

#### Custom control ID

To use a custom ID value instead of the one automatically generated by the component, pass the `@id` argument to the Field component.

!!! Info

In this case, all the internal references (`id/for/aria-describedby`) between the different parts of the field will still be automatically generated but will use the custom ID provided.

!!!

```handlebars
<Hds::Form::FileInput::Field @id="my-control" name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
</Hds::Form::FileInput::Field>
```

#### Additional `aria-describedby`

Pass an `@extraAriaDescribedBy` argument to the Field component to connect one or more extra elements describing the field to the control. This provides extra ID values to the `aria-describedby` attribute of the control, in addition to those automatically generated by the component.

```handlebars
<Hds::Form::FileInput::Field @extraAriaDescribedBy="my-extra-element-ID" name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
</Hds::Form::FileInput::Field>
```

#### HTML native attributes

This component supports use of `...attributes`. This means you can use all the standard HTML attributes of the `<input>` element. This can be useful in case you want to add specific native behaviors to the Field, that are not exposed directly by the component (e.g., providing a `name` for the control, or adding `min`, `max`, `minlength`, `maxlength`, or `pattern` attributes to it).

```handlebars
<Hds::Form::FileInput::Field name="demo-profile-photo" as |F|>
  <F.Label>Upload a file</F.Label>
</Hds::Form::FileInput::Field>
```

{{! ================= }} {{! ===== BASE ===== }} {{! ================= }}

### Form::FileInput::Base

The Base component is intended for rare cases where the Field component can’t be used and a custom implementation is needed. Most of the details for the Field component also apply to the Base component, but see the [Component API](#component-api) for more details.

```handlebars
<Hds::Form::FileInput::Base />
```
