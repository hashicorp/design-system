{"version":3,"file":"hds-time.js","sources":["../../src/services/hds-time.ts"],"sourcesContent":["import Service from '@ember/service';\nimport { task, timeout } from 'ember-concurrency';\nimport { tracked } from '@glimmer/tracking';\nimport { DateTime } from 'luxon';\nimport { isTesting } from '@embroider/macros';\nimport type { TaskGenerator } from 'ember-concurrency';\nimport type {\n  DisplayType,\n  DefaultDisplayType,\n  DisplayFormatType,\n} from './hds-time-types.ts';\n\nexport const MILLISECOND_IN_MS = 1;\nexport const SECOND_IN_MS = 1000 * MILLISECOND_IN_MS;\nexport const MINUTE_IN_MS = 60 * SECOND_IN_MS;\nexport const HOUR_IN_MS = 60 * MINUTE_IN_MS;\nexport const DAY_IN_MS = 24 * HOUR_IN_MS;\nexport const WEEK_IN_MS = 7 * DAY_IN_MS;\n\nexport const THRESHOLD_RELATIVE_TIME_IN_MS = WEEK_IN_MS;\n\nexport enum HdsTimeRelativeUnitValues {\n  Second = 'second',\n  Hour = 'hour',\n  Minute = 'minute',\n  Day = 'day',\n  Week = 'week',\n}\n\nexport const DEFAULT_RELATIVE_THRESHOLDS = {\n  [HdsTimeRelativeUnitValues.Second]: 1 * MINUTE_IN_MS,\n  [HdsTimeRelativeUnitValues.Minute]: 1 * HOUR_IN_MS,\n  [HdsTimeRelativeUnitValues.Hour]: 1 * DAY_IN_MS,\n  [HdsTimeRelativeUnitValues.Day]: 100 * WEEK_IN_MS,\n};\n\nexport enum HdsDisplayKeyValues {\n  FriendlyRelative = 'friendly-relative', // Example: 'Sep 5, 2018 (30 minutes ago)'\n  FriendlyLocal = 'friendly-local', // Example: 'Sep 5, 2018, 4:07:32 pm'\n  FriendlyOnly = 'friendly-only', // Example: 'Sep 5, 2018'\n  Relative = 'relative', // Example: 'in 7 days'\n  Utc = 'utc', // Example: '2018-09-05T23:15:17345Z'\n}\n\nexport const FORMAT_PRECISION_SHORT_DATE: DisplayFormatType = {\n  month: 'short',\n  day: 'numeric',\n  year: 'numeric',\n};\nexport const FORMAT_PRECISION_MINUTE: DisplayFormatType = {\n  ...FORMAT_PRECISION_SHORT_DATE,\n  hour: 'numeric',\n  minute: 'numeric',\n};\nexport const FORMAT_PRECISION_SECOND: DisplayFormatType = {\n  ...FORMAT_PRECISION_SHORT_DATE,\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric',\n  timeZoneName: 'short',\n};\nexport const DATE_DISPLAY_FORMATS: {\n  [x: string]: DisplayFormatType;\n} = {\n  [HdsDisplayKeyValues.FriendlyLocal]: FORMAT_PRECISION_SECOND,\n  [HdsDisplayKeyValues.FriendlyOnly]: FORMAT_PRECISION_SHORT_DATE,\n};\n\nexport const DEFAULT_DISPLAY = '';\n\nexport const DEFAULT_DISPLAY_MAPPING: {\n  [x: string]: DefaultDisplayType;\n} = {\n  [HdsDisplayKeyValues.FriendlyRelative]: {\n    displayFormat: FORMAT_PRECISION_SHORT_DATE,\n    showFriendly: true,\n    showRelative: true,\n    tooltipFormat: FORMAT_PRECISION_SECOND,\n  },\n  [HdsDisplayKeyValues.FriendlyLocal]: {\n    displayFormat: DATE_DISPLAY_FORMATS[HdsDisplayKeyValues.FriendlyLocal],\n    showFriendly: true,\n    showRelative: false,\n    tooltipFormat: null,\n  },\n  [HdsDisplayKeyValues.FriendlyOnly]: {\n    displayFormat: DATE_DISPLAY_FORMATS[HdsDisplayKeyValues.FriendlyOnly],\n    showFriendly: true,\n    showRelative: false,\n    tooltipFormat: null,\n  },\n  [HdsDisplayKeyValues.Relative]: {\n    displayFormat: null,\n    showFriendly: false,\n    showRelative: true,\n    tooltipFormat: FORMAT_PRECISION_MINUTE,\n  },\n  [HdsDisplayKeyValues.Utc]: {\n    displayFormat: null,\n    showFriendly: true,\n    showRelative: false,\n    tooltipFormat: null,\n  },\n};\n\nexport const DISPLAY_SCALE = Object.keys(DEFAULT_DISPLAY_MAPPING);\n\nexport const DISPLAYS = [\n  HdsDisplayKeyValues.FriendlyRelative,\n  HdsDisplayKeyValues.FriendlyLocal,\n  HdsDisplayKeyValues.FriendlyOnly,\n  HdsDisplayKeyValues.Relative,\n  HdsDisplayKeyValues.Utc,\n];\n\nexport default class TimeService extends Service {\n  #listeners = new Set<Date>();\n\n  @tracked now = Date.now();\n\n  format(\n    difference: {\n      absValueInMs: number;\n      valueInMs: number;\n    },\n    display = DEFAULT_DISPLAY\n  ): DisplayType {\n    let displayKey;\n    // If the scale display is defined and valid then set that display.\n    if (display && DISPLAY_SCALE.includes(display)) {\n      displayKey = display;\n    } else {\n      // If there's no defined display then we will execute the design system's\n      // prefered algorithm.\n\n      // By default, we assume we will display just a relative display only.\n      displayKey = HdsDisplayKeyValues.Relative;\n\n      // If the difference in date is greater than the threshold for showing the\n      // relative time then switch the display key.\n      if (difference.absValueInMs > THRESHOLD_RELATIVE_TIME_IN_MS) {\n        displayKey = HdsDisplayKeyValues.FriendlyLocal;\n      }\n    }\n\n    const options: DefaultDisplayType | undefined =\n      DEFAULT_DISPLAY_MAPPING[displayKey];\n\n    return {\n      options,\n      difference,\n      relative: this.selectTimeRelativeUnit(difference),\n    };\n  }\n\n  // Formats the value of a relative unit.\n  formatTimeRelativeUnit(\n    value: number,\n    unit: string\n  ): { value: number; unit: string } {\n    return {\n      value: Math.trunc(value),\n      unit,\n    };\n  }\n\n  // Selects an appropriate display format for the difference.\n  selectTimeRelativeUnit(\n    { absValueInMs, valueInMs }: { absValueInMs: number; valueInMs: number },\n    thresholds: {\n      second: number;\n      minute: number;\n      hour: number;\n      day: number;\n    } = DEFAULT_RELATIVE_THRESHOLDS\n  ): { value: number; unit: string } {\n    if (absValueInMs < thresholds[HdsTimeRelativeUnitValues.Second]) {\n      return this.formatTimeRelativeUnit(\n        valueInMs / SECOND_IN_MS,\n        HdsTimeRelativeUnitValues.Second\n      );\n    }\n\n    if (absValueInMs < thresholds[HdsTimeRelativeUnitValues.Minute]) {\n      return this.formatTimeRelativeUnit(\n        valueInMs / MINUTE_IN_MS,\n        HdsTimeRelativeUnitValues.Minute\n      );\n    }\n\n    if (absValueInMs < thresholds[HdsTimeRelativeUnitValues.Hour]) {\n      return this.formatTimeRelativeUnit(\n        valueInMs / HOUR_IN_MS,\n        HdsTimeRelativeUnitValues.Hour\n      );\n    }\n\n    if (absValueInMs < thresholds[HdsTimeRelativeUnitValues.Day]) {\n      return this.formatTimeRelativeUnit(\n        valueInMs / DAY_IN_MS,\n        HdsTimeRelativeUnitValues.Day\n      );\n    }\n\n    return this.formatTimeRelativeUnit(\n      valueInMs / WEEK_IN_MS,\n      HdsTimeRelativeUnitValues.Week\n    );\n  }\n\n  // Gets the currently subscribed listeners.\n  timeDifference(\n    startDate: number,\n    endDate: Date\n  ): { absValueInMs: number; valueInMs: number } {\n    const valueInMs = Number(endDate) - Number(startDate);\n    return {\n      absValueInMs: Math.abs(valueInMs),\n      valueInMs,\n    };\n  }\n\n  // Subscribes a listener to the ticking task for time changes.\n  register(id: Date): () => void {\n    this.#listeners.add(id);\n    // @ts-expect-error - TS2339: Property 'perform' does not exist on type '() => TaskGenerator<string | undefined>'\n    // note: we could potentially use taskFor via `ember-concurrency-ts` to avoid this exception\n    this.start.perform();\n    return (): void => {\n      this.unregister(id);\n    };\n  }\n\n  // Unregisters listener for the time task.\n  unregister(id: Date): boolean {\n    return this.#listeners.delete(id);\n  }\n\n  @task({ drop: true })\n  *start(): TaskGenerator<string | undefined> {\n    while (this.listeners.size) {\n      this.now = Date.now();\n      // When testing and canceling a EC task, a timer will never resolve and\n      // cause the test to hang while waiting for a permanently hanging timeout.\n      // This condition breaks the test out of that.\n      // via: http://ember-concurrency.com/docs/testing-debugging/\n      if (isTesting()) return;\n      yield timeout(SECOND_IN_MS);\n    }\n  }\n\n  // Transforms a JS date to a string representing the UTC ISO date.\n  toIsoUtcString(date: Date): string | undefined {\n    try {\n      return DateTime.fromJSDate(date).toUTC().toJSDate().toISOString();\n    } catch (error) {\n      console.error('Error: Could not convert date to ISO UTC string; ', error);\n    }\n  }\n\n  // Gets the currently subscribed listeners.\n  get listeners(): Set<Date> {\n    return this.#listeners;\n  }\n}\n"],"names":["MILLISECOND_IN_MS","SECOND_IN_MS","MINUTE_IN_MS","HOUR_IN_MS","DAY_IN_MS","WEEK_IN_MS","THRESHOLD_RELATIVE_TIME_IN_MS","HdsTimeRelativeUnitValues","DEFAULT_RELATIVE_THRESHOLDS","Second","Minute","Hour","Day","HdsDisplayKeyValues","FORMAT_PRECISION_SHORT_DATE","month","day","year","FORMAT_PRECISION_MINUTE","hour","minute","FORMAT_PRECISION_SECOND","second","timeZoneName","DATE_DISPLAY_FORMATS","FriendlyLocal","FriendlyOnly","DEFAULT_DISPLAY","DEFAULT_DISPLAY_MAPPING","FriendlyRelative","displayFormat","showFriendly","showRelative","tooltipFormat","Relative","Utc","DISPLAY_SCALE","Object","keys","DISPLAYS","TimeService","_dec","task","drop","_class","_listeners","WeakMap","Service","constructor","args","_classPrivateFieldInitSpec","Set","_initializerDefineProperty","_descriptor","format","difference","display","displayKey","includes","absValueInMs","options","relative","selectTimeRelativeUnit","formatTimeRelativeUnit","value","unit","Math","trunc","valueInMs","thresholds","Week","timeDifference","startDate","endDate","Number","abs","register","id","_classPrivateFieldGet","add","start","perform","unregister","delete","listeners","size","now","Date","isTesting","timeout","toIsoUtcString","date","DateTime","fromJSDate","toUTC","toJSDate","toISOString","error","console","_applyDecoratedDescriptor","prototype","tracked","configurable","enumerable","writable","initializer","getOwnPropertyDescriptor"],"mappings":"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"}