{"version":3,"file":"load-sprite.js","sources":["../../src/instance-initializers/load-sprite.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport config from 'ember-get-config';\n\nexport async function initialize() {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-assignment\n  const legacyLazyEmbed = config?.emberFlightIcons?.lazyEmbed;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (config?.flightIconsSpriteLazyEmbed || legacyLazyEmbed) {\n    const { default: svgSprite } = await import(\n      '@hashicorp/flight-icons/svg-sprite/svg-sprite-module'\n    );\n\n    // in test environments we can inject the sprite directly into the ember testing container\n    // to avoid issues with tools like Percy that only consider content inside that element\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (config.environment === 'test') {\n      const container = window.document?.getElementById('ember-testing');\n\n      if (container && !container.querySelector('.flight-sprite-container')) {\n        container.insertAdjacentHTML('afterbegin', svgSprite);\n      }\n    } else {\n      const container = window.document?.body;\n\n      if (container && !container.querySelector('.flight-sprite-container')) {\n        container.insertAdjacentHTML('beforeend', svgSprite);\n      }\n    }\n  }\n}\n\nexport default {\n  initialize,\n};\n"],"names":["initialize","legacyLazyEmbed","config","emberFlightIcons","lazyEmbed","flightIconsSpriteLazyEmbed","default","svgSprite","environment","container","window","document","getElementById","querySelector","insertAdjacentHTML","body"],"mappings":";;AAAA;AACA;AACA;AACA;;AAIO,eAAeA,UAAUA,GAAG;AACjC;AACA,EAAA,MAAMC,eAAe,GAAGC,MAAM,EAAEC,gBAAgB,EAAEC,SAAS;;AAE3D;AACA,EAAA,IAAIF,MAAM,EAAEG,0BAA0B,IAAIJ,eAAe,EAAE;IACzD,MAAM;AAAEK,MAAAA,OAAO,EAAEC;AAAU,KAAC,GAAG,MAAM,OACnC,sDACF,CAAC;;AAED;AACA;AACA;AACA,IAAA,IAAIL,MAAM,CAACM,WAAW,KAAK,MAAM,EAAE;MACjC,MAAMC,SAAS,GAAGC,MAAM,CAACC,QAAQ,EAAEC,cAAc,CAAC,eAAe,CAAC;MAElE,IAAIH,SAAS,IAAI,CAACA,SAAS,CAACI,aAAa,CAAC,0BAA0B,CAAC,EAAE;AACrEJ,QAAAA,SAAS,CAACK,kBAAkB,CAAC,YAAY,EAAEP,SAAS,CAAC;AACvD;AACF,KAAC,MAAM;AACL,MAAA,MAAME,SAAS,GAAGC,MAAM,CAACC,QAAQ,EAAEI,IAAI;MAEvC,IAAIN,SAAS,IAAI,CAACA,SAAS,CAACI,aAAa,CAAC,0BAA0B,CAAC,EAAE;AACrEJ,QAAAA,SAAS,CAACK,kBAAkB,CAAC,WAAW,EAAEP,SAAS,CAAC;AACtD;AACF;AACF;AACF;AAEA,iBAAe;AACbP,EAAAA;AACF,CAAC;;;;"}