{"version":3,"file":"index.js","sources":["../../../../../src/components/hds/accordion/item/index.hbs","../../../../../src/components/hds/accordion/item/index.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{!\\n  Copyright (c) HashiCorp, Inc.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n\\n<Hds::DisclosurePrimitive\\n  class={{this.classNames}}\\n  @isOpen={{(or @isOpen (eq @forceState \\\"open\\\"))}}\\n  @onClickToggle={{@onClickToggle}}\\n  ...attributes\\n>\\n  <:toggle as |t|>\\n    <div class=\\\"hds-accordion-item__toggle\\\">\\n      <Hds::Accordion::Item::Button\\n        @isOpen={{t.isOpen}}\\n        @onClickToggle={{t.onClickToggle}}\\n        @contentId={{this._contentId}}\\n        @ariaLabel={{@ariaLabel}}\\n        @ariaLabelledBy={{this.ariaLabelledBy}}\\n        @size={{this.size}}\\n        @parentContainsInteractive={{this.containsInteractive}}\\n      />\\n\\n      <Hds::Text::Body\\n        @tag={{this.titleTag}}\\n        @size={{this.toggleTextSize}}\\n        @weight=\\\"semibold\\\"\\n        @color=\\\"strong\\\"\\n        id={{this._titleId}}\\n        class=\\\"hds-accordion-item__toggle-content\\\"\\n      >\\n        {{yield to=\\\"toggle\\\"}}\\n      </Hds::Text::Body>\\n    </div>\\n  </:toggle>\\n\\n  <:content as |c|>\\n    <Hds::Text::Body\\n      class=\\\"hds-accordion-item__content\\\"\\n      @tag=\\\"div\\\"\\n      @size=\\\"200\\\"\\n      @weight=\\\"regular\\\"\\n      @color=\\\"primary\\\"\\n      id={{this._contentId}}\\n    >\\n      {{yield (hash close=c.close) to=\\\"content\\\"}}\\n    </Hds::Text::Body>\\n  </:content>\\n</Hds::DisclosurePrimitive>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { assert } from '@ember/debug';\nimport { guidFor } from '@ember/object/internals';\n\nimport {\n  HdsAccordionSizeValues,\n  HdsAccordionTypeValues,\n  HdsAccordionItemTitleTagValues,\n} from '../types.ts';\nimport type {\n  HdsAccordionForceStates,\n  HdsAccordionSizes,\n  HdsAccordionTypes,\n  HdsAccordionItemTitleTags,\n} from '../types.ts';\n\nexport const SIZES: string[] = Object.values(HdsAccordionSizeValues);\nexport const DEFAULT_SIZE = HdsAccordionSizeValues.Medium;\n\nexport const TYPES: string[] = Object.values(HdsAccordionTypeValues);\nexport const DEFAULT_TYPE = HdsAccordionTypeValues.Card;\n\nconst TEXT_SIZE_MAP = {\n  small: 100,\n  medium: 200,\n  large: 300,\n};\n\nexport interface HdsAccordionItemSignature {\n  Args: {\n    ariaLabel?: string;\n    containsInteractive?: boolean;\n    forceState?: HdsAccordionForceStates;\n    isOpen?: boolean;\n    isStatic?: boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onClickToggle?: (event: MouseEvent, ...args: any[]) => void;\n    size?: HdsAccordionSizes;\n    titleTag?: HdsAccordionItemTitleTags;\n    type?: HdsAccordionTypes;\n  };\n  Blocks: {\n    toggle?: [];\n    content: [\n      {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        close: (...args: any[]) => void;\n      },\n    ];\n  };\n  Element: HTMLElement;\n}\n\nexport default class HdsAccordionItem extends Component<HdsAccordionItemSignature> {\n  /**\n   * Generates a unique ID for the Content\n   *\n   * @param _contentId\n   */\n  private _contentId = 'content-' + guidFor(this);\n  private _titleId = 'title-' + guidFor(this);\n\n  get ariaLabelledBy(): string | undefined {\n    if (!this.args.ariaLabel) {\n      return this._titleId;\n    }\n    return undefined;\n  }\n\n  /**\n   * @param containsInteractive\n   * @type {boolean}\n   * @default false\n   */\n  get containsInteractive(): boolean {\n    return this.args.containsInteractive ?? false;\n  }\n\n  /**\n   * @param toggleTextSize\n   * @type {HdsTextSizes}\n   * @default 'medium'\n   */\n  get toggleTextSize(): number {\n    const size = this.args.size ?? DEFAULT_SIZE;\n    return TEXT_SIZE_MAP[size];\n  }\n\n  /**\n   * Sets the size for the component\n   *\n   * @param size\n   * @type {HdsAccordionSizes}\n   * @default 'medium'\n   */\n  get size(): HdsAccordionSizes {\n    const { size = DEFAULT_SIZE } = this.args;\n\n    assert(\n      `@size for \"Hds::Accordion::Item\" must be one of the following: ${SIZES.join(\n        ', '\n      )}; received: ${size}`,\n      SIZES.includes(size)\n    );\n\n    return size;\n  }\n\n  /**\n   * Sets the type of the component\n   *\n   * @param type\n   * @type {HdsAccordionTypes}\n   * @default 'card'\n   */\n  get type(): HdsAccordionTypes {\n    const { type = DEFAULT_TYPE } = this.args;\n\n    assert(\n      `@type for \"Hds::Accordion::Item\" must be one of the following: ${TYPES.join(\n        ', '\n      )}; received: ${type}`,\n      TYPES.includes(type)\n    );\n\n    return type;\n  }\n\n  get titleTag(): HdsAccordionItemTitleTags {\n    return this.args.titleTag ?? HdsAccordionItemTitleTagValues.Div;\n  }\n\n  /**\n   * Get the class names to apply to the component.\n   * @method classNames\n   * @return {string} The \"class\" attribute to apply to the component.\n   */\n  get classNames(): string {\n    const classes = ['hds-accordion-item'];\n\n    // add a class based on the @isOpen argument\n    if (this.args.isOpen) {\n      classes.push('hds-accordion-item--is-open');\n    }\n\n    // add a class based on the @isStatic argument\n    if (this.args.isStatic) {\n      classes.push('hds-accordion-item--is-static');\n    }\n\n    // add a class based on the @size argument\n    classes.push(`hds-accordion-item--size-${this.size}`);\n\n    // add a class based on the @type argument\n    classes.push(`hds-accordion-item--type-${this.type}`);\n\n    if (this.containsInteractive) {\n      // Entire accordion item including the chevron is interactive:\n      classes.push('hds-accordion-item--contains-interactive');\n    } else {\n      // Only chevron is interactive:\n      classes.push('hds-accordion-item--does-not-contain-interactive');\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["SIZES","Object","values","HdsAccordionSizeValues","DEFAULT_SIZE","Medium","TYPES","HdsAccordionTypeValues","DEFAULT_TYPE","Card","TEXT_SIZE_MAP","small","medium","large","HdsAccordionItem","Component","constructor","args","_defineProperty","guidFor","ariaLabelledBy","ariaLabel","_titleId","undefined","containsInteractive","toggleTextSize","size","assert","join","includes","type","titleTag","HdsAccordionItemTitleTagValues","Div","classNames","classes","isOpen","push","isStatic","setComponentTemplate","TEMPLATE"],"mappings":"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"}