{"version":3,"file":"index.js","sources":["../../../../src/components/hds/disclosure-primitive/index.hbs","../../../../src/components/hds/disclosure-primitive/index.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{!\\n  Copyright (c) HashiCorp, Inc.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n<div class=\\\"hds-disclosure-primitive\\\" ...attributes>\\n  <div class=\\\"hds-disclosure-primitive__toggle\\\">\\n    {{yield (hash onClickToggle=this.onClickToggle isOpen=this.isOpen) to=\\\"toggle\\\"}}\\n  </div>\\n  {{#if this.isOpen}}\\n    <div class=\\\"hds-disclosure-primitive__content\\\">\\n      {{yield (hash close=this.close) to=\\\"content\\\"}}\\n    </div>\\n  {{/if}}\\n</div>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { action } from '@ember/object';\nimport { schedule } from '@ember/runloop';\n\nexport interface HdsDisclosurePrimitiveSignature {\n  Args: {\n    isOpen?: boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onClose?: (...args: any[]) => void;\n  };\n  Blocks: {\n    toggle: [\n      {\n        isOpen: boolean;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        onClickToggle: (...args: any[]) => void;\n      }\n    ];\n    content: [\n      {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        close: (...args: any[]) => void;\n      }\n    ];\n  };\n  Element: HTMLDivElement;\n}\n\nexport default class HdsDisclosurePrimitiveComponent extends Component<HdsDisclosurePrimitiveSignature> {\n  @tracked isOpen = this.args.isOpen ?? false;\n\n  @action\n  onClickToggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n  @action\n  close() {\n    // we schedule this afterRender to avoid an error in tests caused by updating `isOpen` multiple times in the same computation\n    schedule('afterRender', () => {\n      this.isOpen = false;\n      // we call the \"onClose\" callback if it exists (and is a function)\n      if (this.args.onClose && typeof this.args.onClose === 'function') {\n        this.args.onClose();\n      }\n    });\n  }\n}\n"],"names":["HdsDisclosurePrimitiveComponent","_class","Component","constructor","args","_initializerDefineProperty","_descriptor","onClickToggle","isOpen","close","schedule","onClose","_applyDecoratedDescriptor","prototype","tracked","configurable","enumerable","writable","initializer","action","Object","getOwnPropertyDescriptor","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;AACA,eAAe,kBAAkB,CAAC,icAAic;;;ACiC9cA,IAAAA,+BAA+B,IAAAC,MAAA,GAArC,MAAMD,+BAA+B,SAASE,SAAS,CAAkC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,0BAAA,iBAAAC,WAAA,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA;AAItGC,EAAAA,aAAaA,GAAG;AACd,IAAA,IAAI,CAACC,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM,CAAA;AAC5B,GAAA;AAGAC,EAAAA,KAAKA,GAAG;AACN;IACAC,QAAQ,CAAC,aAAa,EAAE,MAAM;MAC5B,IAAI,CAACF,MAAM,GAAG,KAAK,CAAA;AACnB;AACA,MAAA,IAAI,IAAI,CAACJ,IAAI,CAACO,OAAO,IAAI,OAAO,IAAI,CAACP,IAAI,CAACO,OAAO,KAAK,UAAU,EAAE;AAChE,QAAA,IAAI,CAACP,IAAI,CAACO,OAAO,EAAE,CAAA;AACrB,OAAA;AACF,KAAC,CAAC,CAAA;AACJ,GAAA;AACF,CAAC,GAAAL,WAAA,GAAAM,yBAAA,CAAAX,MAAA,CAAAY,SAAA,EAAA,QAAA,EAAA,CAlBEC,OAAO,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;AAAAC,EAAAA,WAAA,cAAA;AAAA,IAAA,OAAU,IAAI,CAACd,IAAI,CAACI,MAAM,IAAI,KAAK,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAAI,yBAAA,CAAAX,MAAA,CAAAY,SAAA,EAAA,eAAA,EAAA,CAE1CM,MAAM,CAAAC,EAAAA,MAAA,CAAAC,wBAAA,CAAApB,MAAA,CAAAY,SAAA,EAAAZ,eAAAA,CAAAA,EAAAA,MAAA,CAAAY,SAAA,CAAA,EAAAD,yBAAA,CAAAX,MAAA,CAAAY,SAAA,YAKNM,MAAM,CAAA,EAAAC,MAAA,CAAAC,wBAAA,CAAApB,MAAA,CAAAY,SAAA,EAAA,OAAA,CAAA,EAAAZ,MAAA,CAAAY,SAAA,IAAAZ,MAAA,EAAA;AAR2CqB,oBAAA,CAAAC,QAAA,EAA/BvB,+BAA+B,CAAA;;;;"}