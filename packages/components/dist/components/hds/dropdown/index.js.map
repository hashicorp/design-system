{"version":3,"file":"index.js","sources":["../../../../src/components/hds/dropdown/index.hbs","../../../../src/components/hds/dropdown/index.js"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{! @glint-nocheck: not typesafe yet }}\\n{{!\\n  Copyright (c) HashiCorp, Inc.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n<Hds::MenuPrimitive class={{this.classNames}} @onClose={{@onClose}} ...attributes>\\n  <:toggle as |t|>\\n    {{yield\\n      (hash\\n        ToggleButton=(component \\\"hds/dropdown/toggle/button\\\" isOpen=t.isOpen onClick=t.onClickToggle)\\n        ToggleIcon=(component \\\"hds/dropdown/toggle/icon\\\" isOpen=t.isOpen onClick=t.onClickToggle)\\n      )\\n    }}\\n  </:toggle>\\n  <:content as |c|>\\n    <div class={{this.classNamesContent}} {{style width=@width max-height=@height}}>\\n      {{yield (hash Header=(component \\\"hds/dropdown/header\\\"))}}\\n      <ul class=\\\"hds-dropdown__list\\\" {{did-insert this.didInsertList}}>\\n        {{yield\\n          (hash\\n            close=c.close\\n            Checkbox=(component \\\"hds/dropdown/list-item/checkbox\\\")\\n            Checkmark=(component \\\"hds/dropdown/list-item/checkmark\\\")\\n            CopyItem=(component \\\"hds/dropdown/list-item/copy-item\\\")\\n            Description=(component \\\"hds/dropdown/list-item/description\\\")\\n            Generic=(component \\\"hds/dropdown/list-item/generic\\\")\\n            Interactive=(component \\\"hds/dropdown/list-item/interactive\\\")\\n            Radio=(component \\\"hds/dropdown/list-item/radio\\\")\\n            Separator=(component \\\"hds/dropdown/list-item/separator\\\")\\n            Title=(component \\\"hds/dropdown/list-item/title\\\")\\n          )\\n        }}\\n      </ul>\\n      {{yield (hash close=c.close Footer=(component \\\"hds/dropdown/footer\\\"))}}\\n    </div>\\n  </:content>\\n</Hds::MenuPrimitive>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { action } from '@ember/object';\nimport { assert } from '@ember/debug';\n\nexport const DEFAULT_POSITION = 'bottom-right';\nexport const POSITIONS = [\n  'bottom-left',\n  'bottom-right',\n  'top-left',\n  'top-right',\n];\n\nexport default class HdsDropdownIndexComponent extends Component {\n  /**\n   * @param listPosition\n   * @type {string}\n   * @default bottom-right\n   * @description Determines the position of the \"list\"\n   */\n  get listPosition() {\n    let { listPosition = DEFAULT_POSITION } = this.args;\n\n    assert(\n      `@listPosition for \"Hds::Dropdown::Index\" must be one of the following: ${POSITIONS.join(\n        ', '\n      )}; received: ${listPosition}`,\n      POSITIONS.includes(listPosition)\n    );\n\n    return listPosition;\n  }\n\n  /**\n   * Get the class names to apply to the element\n   * @method classNames\n   * @return {string} The \"class\" attribute to apply to the root element\n   */\n  get classNames() {\n    let classes = ['hds-dropdown'];\n\n    // add a class based on the @isInline argument\n    if (this.args.isInline) {\n      classes.push('hds-dropdown--is-inline');\n    }\n\n    return classes.join(' ');\n  }\n\n  /**\n   * Get the class names to apply to the content\n   * @method classNamesContent\n   * @return {string} The \"class\" attribute to apply to the disclosed content\n   */\n  get classNamesContent() {\n    let classes = ['hds-dropdown__content'];\n\n    // add a class based on the @listPosition argument\n    classes.push(`hds-dropdown__content--position-${this.listPosition}`);\n\n    // add a class based on the @width argument\n    if (this.args.width) {\n      classes.push('hds-dropdown__content--fixed-width');\n    }\n\n    return classes.join(' ');\n  }\n\n  @action\n  didInsertList(element) {\n    const checkmarkItems = element.querySelectorAll(`[role=\"option\"]`);\n    if (checkmarkItems.length) {\n      const toggleButtonId = element\n        .closest('.hds-dropdown')\n        ?.querySelector('.hds-dropdown-toggle-button')\n        ?.getAttribute('id');\n      element.setAttribute('role', 'listbox');\n      element.setAttribute('aria-labelledby', toggleButtonId);\n    }\n  }\n}\n"],"names":["DEFAULT_POSITION","POSITIONS","HdsDropdownIndexComponent","_class","Component","listPosition","args","assert","join","includes","classNames","classes","isInline","push","classNamesContent","width","didInsertList","element","checkmarkItems","querySelectorAll","length","toggleButtonId","closest","querySelector","getAttribute","setAttribute","_applyDecoratedDescriptor","prototype","action","Object","getOwnPropertyDescriptor","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;AACA,eAAe,kBAAkB,CAAC,8jDAA8jD;;;ACQzlD,MAAMA,gBAAgB,GAAG,eAAc;AACvC,MAAMC,SAAS,GAAG,CACvB,aAAa,EACb,cAAc,EACd,UAAU,EACV,WAAW,EACZ;AAEoBC,IAAAA,yBAAyB,IAAAC,MAAA,GAA/B,MAAMD,yBAAyB,SAASE,SAAS,CAAC;AAC/D;AACF;AACA;AACA;AACA;AACA;EACE,IAAIC,YAAYA,GAAG;IACjB,IAAI;AAAEA,MAAAA,YAAY,GAAGL,gBAAAA;KAAkB,GAAG,IAAI,CAACM,IAAI,CAAA;AAEnDC,IAAAA,MAAM,CACJ,CAA0EN,uEAAAA,EAAAA,SAAS,CAACO,IAAI,CACtF,IACF,CAAC,CAAA,YAAA,EAAeH,YAAY,CAAA,CAAE,EAC9BJ,SAAS,CAACQ,QAAQ,CAACJ,YAAY,CACjC,CAAC,CAAA;AAED,IAAA,OAAOA,YAAY,CAAA;AACrB,GAAA;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIK,UAAUA,GAAG;AACf,IAAA,IAAIC,OAAO,GAAG,CAAC,cAAc,CAAC,CAAA;;AAE9B;AACA,IAAA,IAAI,IAAI,CAACL,IAAI,CAACM,QAAQ,EAAE;AACtBD,MAAAA,OAAO,CAACE,IAAI,CAAC,yBAAyB,CAAC,CAAA;AACzC,KAAA;AAEA,IAAA,OAAOF,OAAO,CAACH,IAAI,CAAC,GAAG,CAAC,CAAA;AAC1B,GAAA;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIM,iBAAiBA,GAAG;AACtB,IAAA,IAAIH,OAAO,GAAG,CAAC,uBAAuB,CAAC,CAAA;;AAEvC;IACAA,OAAO,CAACE,IAAI,CAAC,CAAA,gCAAA,EAAmC,IAAI,CAACR,YAAY,EAAE,CAAC,CAAA;;AAEpE;AACA,IAAA,IAAI,IAAI,CAACC,IAAI,CAACS,KAAK,EAAE;AACnBJ,MAAAA,OAAO,CAACE,IAAI,CAAC,oCAAoC,CAAC,CAAA;AACpD,KAAA;AAEA,IAAA,OAAOF,OAAO,CAACH,IAAI,CAAC,GAAG,CAAC,CAAA;AAC1B,GAAA;EAGAQ,aAAaA,CAACC,OAAO,EAAE;AACrB,IAAA,MAAMC,cAAc,GAAGD,OAAO,CAACE,gBAAgB,CAAC,iBAAiB,CAAC,CAAA;IAClE,IAAID,cAAc,CAACE,MAAM,EAAE;AACzB,MAAA,MAAMC,cAAc,GAAGJ,OAAO,CAC3BK,OAAO,CAAC,eAAe,CAAC,EACvBC,aAAa,CAAC,6BAA6B,CAAC,EAC5CC,YAAY,CAAC,IAAI,CAAC,CAAA;AACtBP,MAAAA,OAAO,CAACQ,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAA;AACvCR,MAAAA,OAAO,CAACQ,YAAY,CAAC,iBAAiB,EAAEJ,cAAc,CAAC,CAAA;AACzD,KAAA;AACF,GAAA;AACF,CAAC,GAAAK,yBAAA,CAAAvB,MAAA,CAAAwB,SAAA,EAAA,eAAA,EAAA,CAZEC,MAAM,CAAAC,EAAAA,MAAA,CAAAC,wBAAA,CAAA3B,MAAA,CAAAwB,SAAA,oBAAAxB,MAAA,CAAAwB,SAAA,CAAA,GAAAxB,MAAA,EAAA;AAvDqC4B,oBAAA,CAAAC,QAAA,EAAzB9B,yBAAyB,CAAA;;;;"}