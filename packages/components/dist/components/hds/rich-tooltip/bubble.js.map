{"version":3,"file":"bubble.js","sources":["../../../../src/components/hds/rich-tooltip/bubble.hbs","../../../../src/components/hds/rich-tooltip/bubble.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{!\\n  Copyright (c) HashiCorp, InPP.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n<div\\n  class=\\\"hds-rich-tooltip__bubble\\\"\\n  ...attributes\\n  id={{@popoverId}}\\n  tabindex=\\\"-1\\\"\\n  role=\\\"tooltip\\\"\\n  aria-hidden={{(unless @isOpen true)}}\\n  {{style this.sizingStyles}}\\n  {{@setupPrimitivePopover anchoredPositionOptions=this.anchoredPositionOptions}}\\n>\\n  <div class=\\\"hds-rich-tooltip__bubble-arrow\\\" id={{@arrowId}} />\\n  {{#if @isOpen}}\\n    <div class=\\\"hds-rich-tooltip__bubble-inner-content\\\">\\n      {{yield}}\\n    </div>\\n  {{/if}}\\n</div>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { assert } from '@ember/debug';\n\nimport type { ModifierLike } from '@glint/template';\nimport type { SetupPrimitivePopoverModifier } from '../popover-primitive';\nimport type { FloatingUIOptions } from '../../../modifiers/hds-anchored-position.ts';\nimport {\n  DEFAULT_PLACEMENT,\n  PLACEMENTS,\n} from '../../../modifiers/hds-anchored-position.ts';\n\nexport interface HdsRichTooltipBubbleSignature {\n  Args: {\n    placement?: FloatingUIOptions['placement'];\n    offset?: FloatingUIOptions['offsetOptions'];\n    enableCollisionDetection?: FloatingUIOptions['enableCollisionDetection'];\n    width?: string;\n    height?: string;\n    isOpen?: boolean;\n    popoverId: string;\n    arrowId: string;\n    setupPrimitivePopover: ModifierLike<SetupPrimitivePopoverModifier>;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLDivElement;\n}\n\nexport default class HdsRichTooltipBubbleComponent extends Component<HdsRichTooltipBubbleSignature> {\n  /**\n   * @param placement\n   * @type {string}\n   * @description Determines the position of the \"popover\"\n   */\n  get placement(): FloatingUIOptions['placement'] {\n    const { placement = DEFAULT_PLACEMENT } = this.args;\n\n    assert(\n      `@placement for \"Hds::RichTooltip::Bubble\" must be one of the following: ${PLACEMENTS.join(\n        ', '\n      )}; received: ${placement}`,\n      PLACEMENTS.includes(placement)\n    );\n\n    return placement;\n  }\n\n  get enableCollisionDetection(): FloatingUIOptions['enableCollisionDetection'] {\n    return this.args.enableCollisionDetection ?? true;\n  }\n\n  get sizingStyles(): Record<string, string> {\n    const sizingStyles: {\n      width?: string;\n      'max-width'?: string;\n      height?: string;\n      'max-height'?: string;\n    } = {};\n\n    if (this.args.width) {\n      sizingStyles['width'] = this.args.width;\n      sizingStyles['max-width'] = 'none';\n    }\n\n    if (this.args.height) {\n      sizingStyles['height'] = this.args.height;\n      sizingStyles['max-height'] = 'none';\n    }\n\n    return sizingStyles;\n  }\n\n  get anchoredPositionOptions(): {\n    placement: FloatingUIOptions['placement'];\n    offsetOptions: FloatingUIOptions['offsetOptions'];\n    enableCollisionDetection: FloatingUIOptions['enableCollisionDetection'];\n    arrowSelector: string;\n    arrowPadding: FloatingUIOptions['arrowPadding'];\n  } {\n    // custom options specific for the `RichTooltip` component\n    // for details see the `hds-anchored-position` modifier\n    return {\n      placement: this.placement,\n      offsetOptions: this.args.offset ?? 12,\n      enableCollisionDetection: this.args.enableCollisionDetection ?? true,\n      arrowSelector: `#${this.args.arrowId}`,\n      arrowPadding: 12,\n    };\n  }\n}\n"],"names":["HdsRichTooltipBubbleComponent","Component","placement","DEFAULT_PLACEMENT","args","assert","PLACEMENTS","join","includes","enableCollisionDetection","sizingStyles","width","height","anchoredPositionOptions","offsetOptions","offset","arrowSelector","arrowId","arrowPadding","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;AACA,eAAe,kBAAkB,CAAC,yiBAAyiB;;ACD3kB;AACA;AACA;AACA;;AA+Be,MAAMA,6BAA6B,SAASC,SAAS,CAAgC;AAClG;AACF;AACA;AACA;AACA;EACE,IAAIC,SAASA,GAAmC;IAC9C,MAAM;AAAEA,MAAAA,SAAS,GAAGC,iBAAAA;KAAmB,GAAG,IAAI,CAACC,IAAI,CAAA;AAEnDC,IAAAA,MAAM,CACJ,CAA2EC,wEAAAA,EAAAA,UAAU,CAACC,IAAI,CACxF,IACF,CAAC,CAAA,YAAA,EAAeL,SAAS,CAAA,CAAE,EAC3BI,UAAU,CAACE,QAAQ,CAACN,SAAS,CAC/B,CAAC,CAAA;AAED,IAAA,OAAOA,SAAS,CAAA;AAClB,GAAA;EAEA,IAAIO,wBAAwBA,GAAkD;AAC5E,IAAA,OAAO,IAAI,CAACL,IAAI,CAACK,wBAAwB,IAAI,IAAI,CAAA;AACnD,GAAA;EAEA,IAAIC,YAAYA,GAA2B;IACzC,MAAMA,YAKL,GAAG,EAAE,CAAA;AAEN,IAAA,IAAI,IAAI,CAACN,IAAI,CAACO,KAAK,EAAE;MACnBD,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAACN,IAAI,CAACO,KAAK,CAAA;AACvCD,MAAAA,YAAY,CAAC,WAAW,CAAC,GAAG,MAAM,CAAA;AACpC,KAAA;AAEA,IAAA,IAAI,IAAI,CAACN,IAAI,CAACQ,MAAM,EAAE;MACpBF,YAAY,CAAC,QAAQ,CAAC,GAAG,IAAI,CAACN,IAAI,CAACQ,MAAM,CAAA;AACzCF,MAAAA,YAAY,CAAC,YAAY,CAAC,GAAG,MAAM,CAAA;AACrC,KAAA;AAEA,IAAA,OAAOA,YAAY,CAAA;AACrB,GAAA;EAEA,IAAIG,uBAAuBA,GAMzB;AACA;AACA;IACA,OAAO;MACLX,SAAS,EAAE,IAAI,CAACA,SAAS;AACzBY,MAAAA,aAAa,EAAE,IAAI,CAACV,IAAI,CAACW,MAAM,IAAI,EAAE;AACrCN,MAAAA,wBAAwB,EAAE,IAAI,CAACL,IAAI,CAACK,wBAAwB,IAAI,IAAI;AACpEO,MAAAA,aAAa,EAAE,CAAI,CAAA,EAAA,IAAI,CAACZ,IAAI,CAACa,OAAO,CAAE,CAAA;AACtCC,MAAAA,YAAY,EAAE,EAAA;KACf,CAAA;AACH,GAAA;AACF,CAAA;AAACC,oBAAA,CAAAC,QAAA,EA7DoBpB,6BAA6B,CAAA;;;;"}