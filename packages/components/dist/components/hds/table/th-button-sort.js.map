{"version":3,"file":"th-button-sort.js","sources":["../../../../src/components/hds/table/th-button-sort.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport {\n  HdsTableThSortOrderIconValues,\n  HdsTableThSortOrderLabelValues,\n  HdsTableThSortOrderValues,\n} from './types.ts';\nimport type {\n  HdsTableThSortOrder,\n  HdsTableThSortOrderIcons,\n  HdsTableThSortOrderLabels,\n} from './types.ts';\nexport interface HdsTableThButtonSortSignature {\n  Args: {\n    labelId?: string;\n    onClick?: () => void;\n    sortOrder?: HdsTableThSortOrder;\n  };\n  Element: HTMLButtonElement;\n}\n\nconst NOOP = () => {};\n\nexport default class HdsTableThButtonSort extends Component<HdsTableThButtonSortSignature> {\n  // Generates a unique ID for the (hidden) \"label prefix/suffix\" <span> elements\n  private _prefixLabelId = 'prefix-' + guidFor(this);\n  private _suffixLabelId = 'suffix-' + guidFor(this);\n\n  get icon(): HdsTableThSortOrderIcons {\n    switch (this.args.sortOrder) {\n      case HdsTableThSortOrderValues.Asc:\n        return HdsTableThSortOrderIconValues.ArrowUp;\n      case HdsTableThSortOrderValues.Desc:\n        return HdsTableThSortOrderIconValues.ArrowDown;\n      default:\n        return HdsTableThSortOrderIconValues.SwapVertical;\n    }\n  }\n\n  // Determines the label (suffix) to use in the `aria-labelledby` attribute of the button,\n  // used to indicate what will happen if the user clicks on the button\n  get sortOrderLabel(): HdsTableThSortOrderLabels {\n    return this.args.sortOrder === HdsTableThSortOrderValues.Asc\n      ? HdsTableThSortOrderLabelValues.Desc\n      : HdsTableThSortOrderLabelValues.Asc;\n  }\n\n  get onClick(): () => void {\n    const { onClick } = this.args;\n\n    if (typeof onClick === 'function') {\n      return onClick;\n    } else {\n      return NOOP;\n    }\n  }\n\n  get classNames(): string {\n    const classes = ['hds-table__th-button', 'hds-table__th-button--sort'];\n\n    // add a class based on the @sortOrder argument\n    if (\n      this.args.sortOrder === HdsTableThSortOrderValues.Asc ||\n      this.args.sortOrder === HdsTableThSortOrderValues.Desc\n    ) {\n      classes.push(`hds-table__th-button--is-sorted`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["NOOP","HdsTableThButtonSort","Component","_prefixLabelId","guidFor","_suffixLabelId","icon","args","sortOrder","HdsTableThSortOrderValues","Asc","HdsTableThSortOrderIconValues","ArrowUp","Desc","ArrowDown","SwapVertical","sortOrderLabel","HdsTableThSortOrderLabelValues","onClick","classNames","classes","push","join","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;AAuBA,MAAMA,IAAI,GAAGA,MAAM,EAAE;AAEN,MAAMC,oBAAoB,SAASC,SAAS,CAAgC;AACzF;AACQC,EAAAA,cAAc,GAAG,SAAS,GAAGC,OAAO,CAAC,IAAI,CAAC;AAC1CC,EAAAA,cAAc,GAAG,SAAS,GAAGD,OAAO,CAAC,IAAI,CAAC;EAElD,IAAIE,IAAIA,GAA6B;AACnC,IAAA,QAAQ,IAAI,CAACC,IAAI,CAACC,SAAS;MACzB,KAAKC,yBAAyB,CAACC,GAAG;QAChC,OAAOC,6BAA6B,CAACC,OAAO;MAC9C,KAAKH,yBAAyB,CAACI,IAAI;QACjC,OAAOF,6BAA6B,CAACG,SAAS;AAChD,MAAA;QACE,OAAOH,6BAA6B,CAACI,YAAY;AACrD;AACF;;AAEA;AACA;EACA,IAAIC,cAAcA,GAA8B;AAC9C,IAAA,OAAO,IAAI,CAACT,IAAI,CAACC,SAAS,KAAKC,yBAAyB,CAACC,GAAG,GACxDO,8BAA8B,CAACJ,IAAI,GACnCI,8BAA8B,CAACP,GAAG;AACxC;EAEA,IAAIQ,OAAOA,GAAe;IACxB,MAAM;AAAEA,MAAAA;KAAS,GAAG,IAAI,CAACX,IAAI;AAE7B,IAAA,IAAI,OAAOW,OAAO,KAAK,UAAU,EAAE;AACjC,MAAA,OAAOA,OAAO;AAChB,KAAC,MAAM;AACL,MAAA,OAAOlB,IAAI;AACb;AACF;EAEA,IAAImB,UAAUA,GAAW;AACvB,IAAA,MAAMC,OAAO,GAAG,CAAC,sBAAsB,EAAE,4BAA4B,CAAC;;AAEtE;AACA,IAAA,IACE,IAAI,CAACb,IAAI,CAACC,SAAS,KAAKC,yBAAyB,CAACC,GAAG,IACrD,IAAI,CAACH,IAAI,CAACC,SAAS,KAAKC,yBAAyB,CAACI,IAAI,EACtD;AACAO,MAAAA,OAAO,CAACC,IAAI,CAAC,CAAA,+BAAA,CAAiC,CAAC;AACjD;AAEA,IAAA,OAAOD,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC;AAC1B;AACF;AAACC,oBAAA,CAAAC,QAAA,EA/CoBvB,oBAAoB,CAAA;;;;"}