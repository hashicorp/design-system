{"version":3,"file":"index.js","sources":["../../../../src/components/hds/icon/index.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport { assert } from '@ember/debug';\nimport { iconNames } from '@hashicorp/flight-icons/svg';\nimport { HdsIconSizeValues, HdsIconColorValues } from './types.ts';\nimport type { HdsIconSizes, HdsIconColors } from './types';\nimport type { IconName } from '@hashicorp/flight-icons/svg';\nimport type Owner from '@ember/owner';\n\nexport const AVAILABLE_COLORS: string[] = Object.values(HdsIconColorValues);\n\nexport interface HdsIconSignature {\n  Args: {\n    name: IconName;\n    color?: HdsIconColors | string | undefined;\n    size?: HdsIconSizes;\n    stretched?: boolean;\n    isInline?: boolean;\n    title?: string;\n  };\n  Element: SVGElement;\n}\n\nexport default class HdsIcon extends Component<HdsIconSignature> {\n  private _iconId = 'icon-' + guidFor(this);\n  private _titleId = 'title-' + guidFor(this);\n\n  constructor(owner: Owner, args: HdsIconSignature['Args']) {\n    super(owner, args);\n\n    if (!this.args.name) {\n      assert('Please provide to <Hds::Icon> a value for @name');\n    } else if (!iconNames.includes(this.args.name)) {\n      assert(\n        `The icon @name \"${this.args.name}\" provided to <Hds::Icon> is not correct. Please verify it exists on https://helios.hashicorp.design/icons/library`\n      );\n    }\n  }\n\n  get isInline(): boolean {\n    return this.args.isInline ?? false;\n  }\n\n  get predefinedColor(): HdsIconColors | undefined {\n    const { color } = this.args;\n\n    if (color && AVAILABLE_COLORS.includes(color)) {\n      return color as HdsIconColors;\n    } else {\n      return undefined;\n    }\n  }\n\n  get fillColor(): string {\n    if (this.predefinedColor !== undefined) {\n      return 'currentColor';\n    } else {\n      return this.args.color ?? 'currentColor';\n    }\n  }\n\n  get size(): string {\n    return this.args.size ?? HdsIconSizeValues.Sixteen;\n  }\n\n  get svgSize(): { width: string; height: string } {\n    return {\n      width: this.args.stretched ? '100%' : this.size,\n      height: this.args.stretched ? '100%' : this.size,\n    };\n  }\n\n  get title(): string | null {\n    return this.args.title ?? null;\n  }\n\n  get role(): string | null {\n    return this.args.title ? 'img' : null;\n  }\n\n  get ariaLabelledby(): string | null {\n    return this.args.title ? this._titleId : null;\n  }\n\n  get classNames() {\n    const { name } = this.args;\n    const classes = ['hds-icon'];\n\n    // add a class based on the @name argument\n    classes.push(`hds-icon-${name}`);\n\n    if (this.isInline) {\n      classes.push('hds-icon--is-inline');\n    }\n\n    // add a (helper) class based on the @color argument (if pre-defined)\n    if (this.predefinedColor) {\n      classes.push(`hds-foreground-${this.predefinedColor}`);\n    }\n\n    // add an extra class to control the animation (depends on the icon)\n    if (['loading', 'running'].includes(name)) {\n      classes.push(`hds-icon--animation-${name}`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["AVAILABLE_COLORS","Object","values","HdsIconColorValues","HdsIcon","Component","_iconId","guidFor","_titleId","constructor","owner","args","name","assert","iconNames","includes","isInline","predefinedColor","color","undefined","fillColor","size","HdsIconSizeValues","Sixteen","svgSize","width","stretched","height","title","role","ariaLabelledby","classNames","classes","push","join","setComponentTemplate","TEMPLATE"],"mappings":"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"}