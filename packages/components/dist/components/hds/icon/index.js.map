{"version":3,"file":"index.js","sources":["../../../../src/components/hds/icon/index.hbs","../../../../src/components/hds/icon/index.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{!\\n  Copyright (c) HashiCorp, Inc.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n\\n<svg\\n  class={{this.classNames}}\\n  ...attributes\\n  aria-hidden=\\\"{{if @title \\'false\\' \\'true\\'}}\\\"\\n  aria-labelledby={{this.ariaLabelledby}}\\n  data-test-icon={{@name}}\\n  fill=\\\"{{this.fillColor}}\\\"\\n  id={{this._iconId}}\\n  role={{this.role}}\\n  width=\\\"{{this.svgSize.width}}\\\"\\n  height=\\\"{{this.svgSize.height}}\\\"\\n  viewBox=\\\"0 0 {{this.size}} {{this.size}}\\\"\\n  xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n>\\n  {{#if @title}}\\n    <title id={{this._titleId}}>{{@title}}</title>\\n    <g role=\\\"presentation\\\">\\n      <use href=\\\"#flight-{{@name}}-{{this.size}}\\\"></use>\\n    </g>\\n  {{else}}\\n    <use href=\\\"#flight-{{@name}}-{{this.size}}\\\"></use>\\n  {{/if}}\\n</svg>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport { assert } from '@ember/debug';\nimport { iconNames } from '@hashicorp/flight-icons/svg';\nimport { HdsIconSizeValues, HdsIconColorValues } from './types.ts';\nimport type { HdsIconSizes, HdsIconColors } from './types';\nimport type { IconName } from '@hashicorp/flight-icons/svg';\n\nexport const AVAILABLE_COLORS: string[] = Object.values(HdsIconColorValues);\n\nexport interface HdsIconSignature {\n  Args: {\n    name: IconName;\n    color?: HdsIconColors | string | undefined;\n    size?: HdsIconSizes;\n    stretched?: boolean;\n    isInline?: boolean;\n    title?: string;\n  };\n  Element: SVGElement;\n}\n\nexport default class HdsIcon extends Component<HdsIconSignature> {\n  private _iconId = 'icon-' + guidFor(this);\n  private _titleId = 'title-' + guidFor(this);\n\n  constructor(owner: unknown, args: HdsIconSignature['Args']) {\n    super(owner, args);\n\n    if (!this.args.name) {\n      assert('Please provide to <Hds::Icon> a value for @name');\n    } else if (!iconNames.includes(this.args.name)) {\n      assert(\n        `The icon @name \"${this.args.name}\" provided to <Hds::Icon> is not correct. Please verify it exists on https://helios.hashicorp.design/icons/library`\n      );\n    }\n  }\n\n  get isInline(): boolean {\n    return this.args.isInline ?? false;\n  }\n\n  get predefinedColor(): HdsIconColors | undefined {\n    const { color } = this.args;\n\n    if (color && AVAILABLE_COLORS.includes(color)) {\n      return color as HdsIconColors;\n    } else {\n      return undefined;\n    }\n  }\n\n  get fillColor(): string {\n    if (this.predefinedColor !== undefined) {\n      return 'currentColor';\n    } else {\n      return this.args.color ?? 'currentColor';\n    }\n  }\n\n  get size(): string {\n    return this.args.size ?? HdsIconSizeValues.Sixteen;\n  }\n\n  get svgSize(): { width: string; height: string } {\n    return {\n      width: this.args.stretched ? '100%' : this.size,\n      height: this.args.stretched ? '100%' : this.size,\n    };\n  }\n\n  get title(): string | null {\n    return this.args.title ?? null;\n  }\n\n  get role(): string | null {\n    return this.args.title ? 'img' : null;\n  }\n\n  get ariaLabelledby(): string | null {\n    return this.args.title ? this._titleId : null;\n  }\n\n  get classNames() {\n    const { name } = this.args;\n    const classes = ['hds-icon'];\n\n    // add a class based on the @name argument\n    classes.push(`hds-icon-${name}`);\n\n    if (this.isInline) {\n      classes.push('hds-icon--is-inline');\n    }\n\n    // add a (helper) class based on the @color argument (if pre-defined)\n    if (this.predefinedColor) {\n      classes.push(`hds-foreground-${this.predefinedColor}`);\n    }\n\n    // add an extra class to control the animation (depends on the icon)\n    if (['loading', 'running'].includes(name)) {\n      classes.push(`hds-icon--animation-${name}`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["AVAILABLE_COLORS","Object","values","HdsIconColorValues","HdsIcon","Component","constructor","owner","args","_defineProperty","guidFor","name","assert","iconNames","includes","isInline","predefinedColor","color","undefined","fillColor","size","HdsIconSizeValues","Sixteen","svgSize","width","stretched","height","title","role","ariaLabelledby","_titleId","classNames","classes","push","join","setComponentTemplate","TEMPLATE"],"mappings":"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"}