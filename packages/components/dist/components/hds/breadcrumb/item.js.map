{"version":3,"file":"item.js","sources":["../../../../src/components/hds/breadcrumb/item.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { htmlSafe } from '@ember/template';\nimport { assert } from '@ember/debug';\n\nimport { hdsResolveLinkToExternal } from '../../../utils/hds-resolve-link-to-external.ts';\n\nimport type Owner from '@ember/owner';\nimport type { LinkTo } from '@ember/routing';\nimport type { SafeString } from '@ember/template';\nimport type { HdsIconSignature } from '../icon/index';\n\nexport interface HdsBreadcrumbItemSignature {\n  Args: {\n    current?: boolean;\n    maxWidth?: string;\n    text: string;\n    isRouteExternal?: boolean;\n    icon?: HdsIconSignature['Args']['name'];\n    route?: string;\n    models?: Array<string | number>;\n    model?: string | number;\n    query?: Record<string, string>;\n    'current-when'?: string;\n    replace?: boolean;\n  };\n  Element: HTMLLIElement;\n}\n\nexport default class HdsBreadcrumbItem extends Component<HdsBreadcrumbItemSignature> {\n  @tracked linkToExternal: LinkTo | null = null;\n\n  constructor(owner: Owner, args: HdsBreadcrumbItemSignature['Args']) {\n    super(owner, args);\n\n    // we want to avoid resolving the component if it's not needed\n    if (args.isRouteExternal) {\n      void this.resolveLinkToExternal();\n    }\n  }\n\n  async resolveLinkToExternal() {\n    this.linkToExternal = await hdsResolveLinkToExternal(\n      this.args.isRouteExternal\n    );\n  }\n\n  /**\n   * @param maxWidth\n   * @type {string}\n   * @default undefined\n   * @description A parameter that can be applied to an \"item\" to limit its max-width\n   */\n  get maxWidth(): string | undefined {\n    const { maxWidth } = this.args;\n\n    if (maxWidth) {\n      assert(\n        `@maxWidth for \"Hds::Breadcrumb::Item\" must be a size as number in 'px' or in 'em' (eg. '200px' or '24em'); received: ${maxWidth}`,\n        maxWidth.match(/^\\d+(px|em)$/)\n      );\n\n      return maxWidth;\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n   * Get the inline style to apply to the item.\n   * @method BreadcrumbItem#itemStyle\n   * @return {string} The \"style\" attribute to apply to the item.\n   */\n  get itemStyle(): SafeString | undefined {\n    if (this.maxWidth) {\n      return htmlSafe(`max-width: ${this.maxWidth}`);\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n   * Get the class names to apply to the component.\n   * @method BreadcrumbItem#classNames\n   * @return {string} The \"class\" attribute to apply to the component.\n   */\n  get classNames(): string {\n    const classes = ['hds-breadcrumb__item'];\n\n    return classes.join(' ');\n  }\n}\n"],"names":["HdsBreadcrumbItem","Component","g","prototype","tracked","i","void 0","constructor","owner","args","isRouteExternal","resolveLinkToExternal","linkToExternal","hdsResolveLinkToExternal","maxWidth","assert","match","undefined","itemStyle","htmlSafe","classNames","classes","join","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;;AA+Be,MAAMA,iBAAiB,SAASC,SAAS,CAA6B;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,gBAAA,EAAA,CAClFC,OAAO,CAAA,EAAA,YAAA;AAAA,MAAA,OAAiC,IAAI;AAAA,KAAA,CAAA;AAAA;AAAA,EAAA,eAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,gBAAA,CAAA,EAAAC,MAAA;AAE7CC,EAAAA,WAAWA,CAACC,KAAY,EAAEC,IAAwC,EAAE;AAClE,IAAA,KAAK,CAACD,KAAK,EAAEC,IAAI,CAAC;;AAElB;IACA,IAAIA,IAAI,CAACC,eAAe,EAAE;AACxB,MAAA,KAAK,IAAI,CAACC,qBAAqB,EAAE;AACnC;AACF;EAEA,MAAMA,qBAAqBA,GAAG;IAC5B,IAAI,CAACC,cAAc,GAAG,MAAMC,wBAAwB,CAClD,IAAI,CAACJ,IAAI,CAACC,eACZ,CAAC;AACH;;AAEA;AACF;AACA;AACA;AACA;AACA;EACE,IAAII,QAAQA,GAAuB;IACjC,MAAM;AAAEA,MAAAA;KAAU,GAAG,IAAI,CAACL,IAAI;AAE9B,IAAA,IAAIK,QAAQ,EAAE;MACZC,MAAM,CACJ,CAAwHD,qHAAAA,EAAAA,QAAQ,CAAE,CAAA,EAClIA,QAAQ,CAACE,KAAK,CAAC,cAAc,CAC/B,CAAC;AAED,MAAA,OAAOF,QAAQ;AACjB,KAAC,MAAM;AACL,MAAA,OAAOG,SAAS;AAClB;AACF;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIC,SAASA,GAA2B;IACtC,IAAI,IAAI,CAACJ,QAAQ,EAAE;AACjB,MAAA,OAAOK,QAAQ,CAAC,CAAA,WAAA,EAAc,IAAI,CAACL,QAAQ,EAAE,CAAC;AAChD,KAAC,MAAM;AACL,MAAA,OAAOG,SAAS;AAClB;AACF;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIG,UAAUA,GAAW;AACvB,IAAA,MAAMC,OAAO,GAAG,CAAC,sBAAsB,CAAC;AAExC,IAAA,OAAOA,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;AAC1B;AACF;AAACC,oBAAA,CAAAC,QAAA,EA9DoBxB,iBAAiB,CAAA;;;;"}