{"version":3,"file":"tab.js","sources":["../../../../src/components/hds/tabs/tab.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport { action } from '@ember/object';\nimport type { IconName } from '@hashicorp/flight-icons/svg';\nimport type { HdsTabsTabIds, HdsTabsPanelIds } from './types';\n\nexport interface HdsTabsTabSignature {\n  Args: {\n    tabIds?: HdsTabsTabIds;\n    panelIds?: HdsTabsPanelIds;\n    selectedTabIndex?: number;\n    icon?: IconName;\n    count?: string;\n    isSelected?: boolean;\n    didInsertNode?: (element: HTMLButtonElement, isSelected?: boolean) => void;\n    didUpdateNode?: (nodeIndex: number, isSelected?: boolean) => void;\n    willDestroyNode?: (element: HTMLButtonElement) => void;\n    onClick?: (event: MouseEvent, tabIndex: number) => void;\n    onKeyUp?: (nodeIndex: number, event: KeyboardEvent) => void;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLLIElement;\n}\n\nexport default class HdsTabsTab extends Component<HdsTabsTabSignature> {\n  /**\n   * Generate a unique ID for the Tab\n   * @return {string}\n   * @param _tabId\n   */\n  private _tabId = 'tab-' + guidFor(this);\n\n  get nodeIndex(): number | undefined {\n    return this.args.tabIds?.indexOf(this._tabId);\n  }\n\n  /**\n   * Determine if the tab is the selected tab\n   * @return {boolean}\n   * @default false (1st tab is selected by default)\n   */\n  get isSelected(): boolean {\n    return (\n      this.nodeIndex !== undefined &&\n      this.nodeIndex === this.args.selectedTabIndex\n    );\n  }\n\n  /**\n   * Get the ID of the panel coupled/associated with the tab (it's used by the `aria-controls` attribute)\n   * @returns string}\n   */\n  get coupledPanelId(): string | undefined {\n    return this.nodeIndex !== undefined\n      ? this.args.panelIds?.[this.nodeIndex]\n      : undefined;\n  }\n\n  @action\n  didInsertNode(element: HTMLButtonElement, positional: [boolean?]): void {\n    const { didInsertNode } = this.args;\n\n    const isSelected = positional[0];\n\n    if (typeof didInsertNode === 'function') {\n      didInsertNode(element, isSelected);\n    }\n  }\n\n  @action\n  didUpdateNode(): void {\n    const { didUpdateNode } = this.args;\n\n    if (typeof didUpdateNode === 'function' && this.nodeIndex !== undefined) {\n      didUpdateNode(this.nodeIndex, this.args.isSelected);\n    }\n  }\n\n  @action\n  willDestroyNode(element: HTMLButtonElement): void {\n    const { willDestroyNode } = this.args;\n\n    if (typeof willDestroyNode === 'function') {\n      willDestroyNode(element);\n    }\n  }\n\n  @action\n  onClick(event: MouseEvent): false | undefined {\n    const { onClick } = this.args;\n\n    if (typeof onClick === 'function' && this.nodeIndex !== undefined) {\n      onClick(event, this.nodeIndex);\n    } else {\n      return false;\n    }\n  }\n\n  @action\n  onKeyUp(event: KeyboardEvent): void {\n    const { onKeyUp } = this.args;\n\n    if (typeof onKeyUp === 'function' && this.nodeIndex !== undefined) {\n      onKeyUp(this.nodeIndex, event);\n    }\n  }\n\n  /**\n   * Get the class names to apply to the component.\n   * @method classNames\n   * @return {string} The \"class\" attribute to apply to the component.\n   */\n  get classNames(): string {\n    const classes = ['hds-tabs__tab'];\n\n    if (this.isSelected) {\n      classes.push(`hds-tabs__tab--is-selected`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["HdsTabsTab","Component","_tabId","guidFor","nodeIndex","args","tabIds","indexOf","isSelected","undefined","selectedTabIndex","coupledPanelId","panelIds","didInsertNode","element","positional","n","prototype","action","didUpdateNode","willDestroyNode","onClick","event","onKeyUp","classNames","classes","push","join","setComponentTemplate","TEMPLATE"],"mappings":"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"}