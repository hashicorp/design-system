{"version":3,"file":"status-link.js","sources":["../../../../src/components/hds/app-footer/status-link.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { htmlSafe } from '@ember/template';\nimport { assert } from '@ember/debug';\n\nimport type { SafeString } from '@ember/template';\nimport type { HdsInteractiveSignature } from '../interactive/';\nimport { HdsAppFooterStatusLinkStatusValues } from './types.ts';\nimport type { HdsAppFooterStatusTypes } from './types.ts';\nimport type { HdsAppFooterLinkSignature } from './link.ts';\nimport type { HdsIconSignature } from '../icon';\nimport type Owner from '@ember/owner';\n\nexport const STATUSES = HdsAppFooterStatusLinkStatusValues;\n\nexport interface HdsAppFooterStatusLinkSignature {\n  Args: HdsInteractiveSignature['Args'] & {\n    itemStyle?: SafeString;\n    status?: HdsAppFooterStatusTypes;\n    statusIcon?: HdsIconSignature['Args']['name'];\n    statusIconColor?: string;\n    text?: string;\n  };\n  Element: HdsAppFooterLinkSignature['Element'];\n}\n\nexport default class HdsAppFooterStatusLink extends Component<HdsAppFooterStatusLinkSignature> {\n  constructor(owner: Owner, args: HdsInteractiveSignature['Args']) {\n    super(owner, args);\n\n    assert(\n      'Either @status or @text for \"Hds::AppFooter::StatusLink\" must have a valid value',\n      this.args.text !== undefined || this.args.status\n    );\n  }\n\n  /**\n   * @param status\n   * @type {HdsAppFooterStatusTypes}\n   * @description The name of the status which the StatusLink is being set to\n   */\n  get status(): HdsAppFooterStatusTypes | undefined {\n    let status;\n    if (this.args.status) {\n      status = this.args.status.toLowerCase();\n      assert(\n        `@status for \"Hds::AppFooter\" must be one of the following: ${Object.keys(\n          STATUSES\n        ).join(', ')} received: ${this.args.status}`,\n\n        status in STATUSES\n      );\n      return status as HdsAppFooterStatusTypes;\n    }\n    return status;\n  }\n\n  get statusIcon(): HdsIconSignature['Args']['name'] | undefined {\n    return (\n      this.args.statusIcon ??\n      (this.status !== undefined ? STATUSES[this.status]?.iconName : undefined)\n    );\n  }\n\n  /**\n   * Get the inline style to apply to the item.\n   * @method StatusLink#itemStyle\n   * @return {string} The \"style\" attribute to apply to the item.\n   */\n  get itemStyle(): SafeString | undefined {\n    if (this.args.statusIconColor) {\n      return htmlSafe(\n        `--hds-app-footer-status-icon-color: ${this.args.statusIconColor}`\n      );\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n   * @param text\n   * @type {string}\n   * @description The text content of the StatusLink\n   */\n  get text(): string | undefined {\n    if (!this.args.text && this.status) {\n      return STATUSES[this.status]?.text;\n    }\n    return this.args.text;\n  }\n\n  /**\n   * @param href\n   * @type {string}\n   * @description The href value of the StatusLink\n   */\n  get href(): string {\n    return this.args.href ?? 'https://status.hashicorp.com';\n  }\n\n  /**\n   * Get the class names to apply to the component.\n   * @method classNames\n   * @return {string} The \"class\" attribute to apply to the component.\n   */\n  get classNames(): string {\n    const classes = ['hds-app-footer__status-link'];\n\n    // add a class based on status if no statusIconColor is explicitly specified\n    if (this.status && !this.args.statusIconColor) {\n      classes.push(`hds-app-footer__status-link--${this.status}`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["STATUSES","HdsAppFooterStatusLinkStatusValues","HdsAppFooterStatusLink","Component","constructor","owner","args","assert","text","undefined","status","toLowerCase","Object","keys","join","statusIcon","iconName","itemStyle","statusIconColor","htmlSafe","href","classNames","classes","push","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;;AAcO,MAAMA,QAAQ,GAAGC;AAaT,MAAMC,sBAAsB,SAASC,SAAS,CAAkC;AAC7FC,EAAAA,WAAWA,CAACC,KAAY,EAAEC,IAAqC,EAAE;AAC/D,IAAA,KAAK,CAACD,KAAK,EAAEC,IAAI,CAAC;AAElBC,IAAAA,MAAM,CACJ,kFAAkF,EAClF,IAAI,CAACD,IAAI,CAACE,IAAI,KAAKC,SAAS,IAAI,IAAI,CAACH,IAAI,CAACI,MAC5C,CAAC;AACH;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIA,MAAMA,GAAwC;AAChD,IAAA,IAAIA,MAAM;AACV,IAAA,IAAI,IAAI,CAACJ,IAAI,CAACI,MAAM,EAAE;MACpBA,MAAM,GAAG,IAAI,CAACJ,IAAI,CAACI,MAAM,CAACC,WAAW,EAAE;MACvCJ,MAAM,CACJ,CAA8DK,2DAAAA,EAAAA,MAAM,CAACC,IAAI,CACvEb,QACF,CAAC,CAACc,IAAI,CAAC,IAAI,CAAC,CAAc,WAAA,EAAA,IAAI,CAACR,IAAI,CAACI,MAAM,EAAE,EAE5CA,MAAM,IAAIV,QACZ,CAAC;AACD,MAAA,OAAOU,MAAM;AACf;AACA,IAAA,OAAOA,MAAM;AACf;EAEA,IAAIK,UAAUA,GAAiD;IAC7D,OACE,IAAI,CAACT,IAAI,CAACS,UAAU,KACnB,IAAI,CAACL,MAAM,KAAKD,SAAS,GAAGT,QAAQ,CAAC,IAAI,CAACU,MAAM,CAAC,EAAEM,QAAQ,GAAGP,SAAS,CAAC;AAE7E;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIQ,SAASA,GAA2B;AACtC,IAAA,IAAI,IAAI,CAACX,IAAI,CAACY,eAAe,EAAE;MAC7B,OAAOC,QAAQ,CACb,CAAuC,oCAAA,EAAA,IAAI,CAACb,IAAI,CAACY,eAAe,CAAA,CAClE,CAAC;AACH,KAAC,MAAM;AACL,MAAA,OAAOT,SAAS;AAClB;AACF;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAID,IAAIA,GAAuB;IAC7B,IAAI,CAAC,IAAI,CAACF,IAAI,CAACE,IAAI,IAAI,IAAI,CAACE,MAAM,EAAE;AAClC,MAAA,OAAOV,QAAQ,CAAC,IAAI,CAACU,MAAM,CAAC,EAAEF,IAAI;AACpC;AACA,IAAA,OAAO,IAAI,CAACF,IAAI,CAACE,IAAI;AACvB;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIY,IAAIA,GAAW;AACjB,IAAA,OAAO,IAAI,CAACd,IAAI,CAACc,IAAI,IAAI,8BAA8B;AACzD;;AAEA;AACF;AACA;AACA;AACA;EACE,IAAIC,UAAUA,GAAW;AACvB,IAAA,MAAMC,OAAO,GAAG,CAAC,6BAA6B,CAAC;;AAE/C;IACA,IAAI,IAAI,CAACZ,MAAM,IAAI,CAAC,IAAI,CAACJ,IAAI,CAACY,eAAe,EAAE;MAC7CI,OAAO,CAACC,IAAI,CAAC,CAAA,6BAAA,EAAgC,IAAI,CAACb,MAAM,EAAE,CAAC;AAC7D;AAEA,IAAA,OAAOY,OAAO,CAACR,IAAI,CAAC,GAAG,CAAC;AAC1B;AACF;AAACU,oBAAA,CAAAC,QAAA,EAzFoBvB,sBAAsB,CAAA;;;;"}