{"version":3,"file":"delete-row-button.js","sources":["../../../../../src/components/hds/form/key-value-inputs/delete-row-button.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\nimport Component from '@glimmer/component';\nimport { action } from '@ember/object';\nimport { modifier } from 'ember-modifier';\n\nimport type { HdsButtonSignature } from '../../button/index.ts';\n\nexport interface HdsFormKeyValueInputsDeleteRowButtonSignature {\n  Args: {\n    onClick?: (rowData: unknown, rowIndex: number) => void;\n    onInsert?: () => void;\n    onRemove?: () => void;\n    returnFocusTo?: HTMLFieldSetElement;\n    rowData: unknown;\n    rowIndex: number;\n    text?: HdsButtonSignature['Args']['text'];\n  };\n  Element: HdsButtonSignature['Element'];\n}\n\nexport default class HdsFormKeyValueInputsDeleteRowButton extends Component<HdsFormKeyValueInputsDeleteRowButtonSignature> {\n  private _onInsert = modifier(() => {\n    if (this.args.onInsert) {\n      this.args.onInsert();\n    }\n\n    return () => {\n      if (this.args.onRemove) {\n        this.args.onRemove();\n      }\n\n      const { returnFocusTo } = this.args;\n\n      if (returnFocusTo && returnFocusTo.isConnected) {\n        returnFocusTo.focus();\n      }\n    };\n  });\n\n  get text(): string {\n    return this.args.text ?? `Delete row ${this.args.rowIndex + 1}`;\n  }\n\n  @action\n  onClick(): void {\n    const { onClick } = this.args;\n\n    if (typeof onClick === 'function') {\n      onClick(this.args.rowData, this.args.rowIndex);\n    }\n  }\n}\n"],"names":["HdsFormKeyValueInputsDeleteRowButton","Component","_onInsert","modifier","args","onInsert","onRemove","returnFocusTo","isConnected","focus","text","rowIndex","onClick","rowData","n","prototype","action","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AAoBe,MAAMA,oCAAoC,SAASC,SAAS,CAAgD;EACjHC,SAAS,GAAGC,QAAQ,CAAC,MAAM;AACjC,IAAA,IAAI,IAAI,CAACC,IAAI,CAACC,QAAQ,EAAE;AACtB,MAAA,IAAI,CAACD,IAAI,CAACC,QAAQ,EAAE;AACtB;AAEA,IAAA,OAAO,MAAM;AACX,MAAA,IAAI,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;AACtB,QAAA,IAAI,CAACF,IAAI,CAACE,QAAQ,EAAE;AACtB;MAEA,MAAM;AAAEC,QAAAA;OAAe,GAAG,IAAI,CAACH,IAAI;AAEnC,MAAA,IAAIG,aAAa,IAAIA,aAAa,CAACC,WAAW,EAAE;QAC9CD,aAAa,CAACE,KAAK,EAAE;AACvB;KACD;AACH,GAAC,CAAC;EAEF,IAAIC,IAAIA,GAAW;AACjB,IAAA,OAAO,IAAI,CAACN,IAAI,CAACM,IAAI,IAAI,CAAA,WAAA,EAAc,IAAI,CAACN,IAAI,CAACO,QAAQ,GAAG,CAAC,CAAE,CAAA;AACjE;AAGAC,EAAAA,OAAOA,GAAS;IACd,MAAM;AAAEA,MAAAA;KAAS,GAAG,IAAI,CAACR,IAAI;AAE7B,IAAA,IAAI,OAAOQ,OAAO,KAAK,UAAU,EAAE;AACjCA,MAAAA,OAAO,CAAC,IAAI,CAACR,IAAI,CAACS,OAAO,EAAE,IAAI,CAACT,IAAI,CAACO,QAAQ,CAAC;AAChD;AACF;AAAC,EAAA;IAAAG,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,SAAA,EAAA,CAPAC,MAAM,CAAA,CAAA;AAAA;AAQT;AAACC,oBAAA,CAAAC,QAAA,EA/BoBlB,oCAAoC,CAAA;;;;"}