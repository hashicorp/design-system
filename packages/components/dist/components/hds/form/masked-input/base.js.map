{"version":3,"file":"base.js","sources":["../../../../../src/components/hds/form/masked-input/base.hbs","../../../../../src/components/hds/form/masked-input/base.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{!\\n  Copyright (c) HashiCorp, Inc.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n<div class={{this.classNames}} {{style width=@width}}>\\n  {{#if @isMultiline}}\\n    <Hds::Form::Textarea::Base\\n      class=\\\"hds-form-masked-input__control\\\"\\n      @value={{@value}}\\n      @isInvalid={{@isInvalid}}\\n      @height={{@height}}\\n      id={{this.id}}\\n      ...attributes\\n    />\\n  {{else}}\\n    <Hds::Form::TextInput::Base\\n      class=\\\"hds-form-masked-input__control\\\"\\n      @value={{@value}}\\n      @isInvalid={{@isInvalid}}\\n      id={{this.id}}\\n      ...attributes\\n    />\\n  {{/if}}\\n  <Hds::Form::VisibilityToggle\\n    @isVisible={{this.isContentMasked}}\\n    @ariaLabel={{this.visibilityToggleAriaLabel}}\\n    @ariaMessageText={{this.visibilityToggleAriaMessageText}}\\n    aria-controls={{this.id}}\\n    class=\\\"hds-form-masked-input__toggle-button\\\"\\n    {{on \\\"click\\\" this.onClickToggleMasking}}\\n  />\\n  {{#if @hasCopyButton}}\\n    <Hds::Copy::Button\\n      class=\\\"hds-form-masked-input__copy-button\\\"\\n      @text={{this.copyButtonText}}\\n      @isIconOnly={{true}}\\n      @targetToCopy=\\\"#{{this.id}}\\\"\\n    />\\n  {{/if}}\\n</div>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { action } from '@ember/object';\nimport { getElementId } from '../../../../utils/hds-get-element-id.ts';\nimport type { HdsCopyButtonSignature } from '../../copy/button/index.ts';\nimport type { HdsFormVisibilityToggleSignature } from '../visibility-toggle/index.ts';\n\nexport interface HdsFormMaskedInputBaseSignature {\n  Args: {\n    copyButtonText?: HdsCopyButtonSignature['Args']['text'];\n    hasCopyButton?: boolean;\n    isContentMasked?: boolean;\n    isInvalid?: boolean;\n    isMultiline?: boolean;\n    id?: string;\n    value?: string;\n    visibilityToggleAriaLabel?: HdsFormVisibilityToggleSignature['Args']['ariaLabel'];\n    visibilityToggleAriaMessageText?: HdsFormVisibilityToggleSignature['Args']['ariaMessageText'];\n    width?: string;\n    height?: string;\n  };\n  Element: HTMLElement;\n}\n\nexport default class HdsFormMaskedInputBaseComponent extends Component<HdsFormMaskedInputBaseSignature> {\n  @tracked isContentMasked = this.args.isContentMasked ?? true;\n\n  @action\n  onClickToggleMasking(): void {\n    this.isContentMasked = !this.isContentMasked;\n  }\n\n  /**\n   * Calculates the unique ID to assign to the form control\n   */\n  get id(): string {\n    return getElementId(this);\n  }\n\n  /**\n   * @param ariaLabel\n   * @type {string}\n   * @default 'Show masked content'\n   */\n  get visibilityToggleAriaLabel(): string {\n    if (this.args.visibilityToggleAriaLabel) {\n      return this.args.visibilityToggleAriaLabel;\n    } else if (this.isContentMasked) {\n      return 'Show masked content';\n    } else {\n      return 'Hide masked content';\n    }\n  }\n\n  /**\n   * @param ariaMessageText\n   * @type {string}\n   * @default 'Input content is now hidden'\n   */\n  get visibilityToggleAriaMessageText(): string {\n    if (this.args.visibilityToggleAriaMessageText) {\n      return this.args.visibilityToggleAriaMessageText;\n    } else if (this.isContentMasked) {\n      return 'Input content is hidden';\n    } else {\n      return 'Input content is visible';\n    }\n  }\n\n  /**\n   * @param copyButtonText\n   * @type {string}\n   * @default 'Copy masked content'\n   */\n  get copyButtonText(): string {\n    if (this.args.copyButtonText) {\n      return this.args.copyButtonText;\n    } else {\n      return 'Copy masked content';\n    }\n  }\n\n  /**\n   * Get the class names to apply to the component.\n   * @method classNames\n   * @return {string} The \"class\" attribute to apply to the component.\n   */\n  get classNames(): string {\n    const classes = ['hds-form-masked-input'];\n\n    if (this.isContentMasked) {\n      classes.push(`hds-form-masked-input--is-masked`);\n    } else {\n      classes.push(`hds-form-masked-input--is-not-masked`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["HdsFormMaskedInputBaseComponent","_class","Component","constructor","args","_initializerDefineProperty","_descriptor","onClickToggleMasking","isContentMasked","id","getElementId","visibilityToggleAriaLabel","visibilityToggleAriaMessageText","copyButtonText","classNames","classes","push","join","_applyDecoratedDescriptor","prototype","tracked","configurable","enumerable","writable","initializer","action","Object","getOwnPropertyDescriptor","setComponentTemplate","TEMPLATE"],"mappings":"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"}