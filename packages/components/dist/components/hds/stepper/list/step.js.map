{"version":3,"file":"step.js","sources":["../../../../../src/components/hds/stepper/list/step.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { assert } from '@ember/debug';\nimport { guidFor } from '@ember/object/internals';\nimport { modifier } from 'ember-modifier';\n\nimport {\n  HdsStepperStatusesValues,\n  HdsStepperStatusToSrOnlyText,\n  HdsStepperTitleTagValues,\n} from '../types.ts';\n\nimport type {\n  HdsStepperListStepIds,\n  HdsStepperStatuses,\n  HdsStepperTitleTags,\n} from '../types.ts';\n\nexport const DEFAULT_STATUS = HdsStepperStatusesValues.Incomplete;\nexport const STATUSES: string[] = Object.values(HdsStepperStatusesValues);\nexport const MAPPING_STATUS_TO_SR_ONLY_TEXT = HdsStepperStatusToSrOnlyText;\n\nexport interface HdsStepperListStepSignature {\n  Args: {\n    status?: HdsStepperStatusesValues;\n    titleTag?: HdsStepperTitleTags;\n    stepIds?: HdsStepperListStepIds;\n    didInsertNode?: (element: HTMLElement) => void;\n    willDestroyNode?: (element: HTMLElement) => void;\n  };\n  Blocks: {\n    title: [];\n    description?: [];\n    content?: [];\n  };\n  Element: HTMLElement;\n}\n\nexport default class HdsStepperListStep extends Component<HdsStepperListStepSignature> {\n  private _stepId = 'step-' + guidFor(this);\n\n  private _setUpStep = modifier(\n    (\n      element: HTMLElement,\n      [insertCallbackFunction, destroyCallbackFunction]\n    ) => {\n      if (typeof insertCallbackFunction === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n        insertCallbackFunction(element);\n      }\n\n      return () => {\n        if (typeof destroyCallbackFunction === 'function') {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n          destroyCallbackFunction(element);\n        }\n      };\n    }\n  );\n\n  get stepNumber(): number | undefined {\n    return this.args.stepIds\n      ? this.args.stepIds.indexOf(this._stepId) + 1\n      : undefined;\n  }\n\n  get status(): HdsStepperStatuses {\n    const { status = DEFAULT_STATUS } = this.args;\n\n    assert(\n      `@status for \"Hds::Stepper::List::Step\" must be one of the following: ${STATUSES.join(\n        ', '\n      )}; received: ${status}`,\n      STATUSES.includes(status)\n    );\n\n    return status;\n  }\n\n  get statusSrOnlyText(): string {\n    return MAPPING_STATUS_TO_SR_ONLY_TEXT[this.status];\n  }\n\n  get titleTag(): HdsStepperTitleTags {\n    return this.args.titleTag ?? HdsStepperTitleTagValues.Div;\n  }\n\n  get classNames(): string {\n    const classes = ['hds-stepper-list__step'];\n\n    classes.push(`hds-stepper-list__step--${this.status}`);\n\n    return classes.join(' ');\n  }\n}\n"],"names":["DEFAULT_STATUS","HdsStepperStatusesValues","Incomplete","STATUSES","Object","values","MAPPING_STATUS_TO_SR_ONLY_TEXT","HdsStepperStatusToSrOnlyText","HdsStepperListStep","Component","_stepId","guidFor","_setUpStep","modifier","element","insertCallbackFunction","destroyCallbackFunction","stepNumber","args","stepIds","indexOf","undefined","status","assert","join","includes","statusSrOnlyText","titleTag","HdsStepperTitleTagValues","Div","classNames","classes","push","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;;AAmBaA,MAAAA,cAAc,GAAGC,wBAAwB,CAACC;AAChD,MAAMC,QAAkB,GAAGC,MAAM,CAACC,MAAM,CAACJ,wBAAwB;AACjE,MAAMK,8BAA8B,GAAGC;AAkB/B,MAAMC,kBAAkB,SAASC,SAAS,CAA8B;AAC7EC,EAAAA,OAAO,GAAG,OAAO,GAAGC,OAAO,CAAC,IAAI,CAAC;EAEjCC,UAAU,GAAGC,QAAQ,CAC3B,CACEC,OAAoB,EACpB,CAACC,sBAAsB,EAAEC,uBAAuB,CAAC,KAC9C;AACH,IAAA,IAAI,OAAOD,sBAAsB,KAAK,UAAU,EAAE;AAChD;MACAA,sBAAsB,CAACD,OAAO,CAAC;AACjC;AAEA,IAAA,OAAO,MAAM;AACX,MAAA,IAAI,OAAOE,uBAAuB,KAAK,UAAU,EAAE;AACjD;QACAA,uBAAuB,CAACF,OAAO,CAAC;AAClC;KACD;AACH,GACF,CAAC;EAED,IAAIG,UAAUA,GAAuB;IACnC,OAAO,IAAI,CAACC,IAAI,CAACC,OAAO,GACpB,IAAI,CAACD,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC,IAAI,CAACV,OAAO,CAAC,GAAG,CAAC,GAC3CW,SAAS;AACf;EAEA,IAAIC,MAAMA,GAAuB;IAC/B,MAAM;AAAEA,MAAAA,MAAM,GAAGtB;KAAgB,GAAG,IAAI,CAACkB,IAAI;AAE7CK,IAAAA,MAAM,CACJ,CAAwEpB,qEAAAA,EAAAA,QAAQ,CAACqB,IAAI,CACnF,IACF,CAAC,CAAA,YAAA,EAAeF,MAAM,CAAA,CAAE,EACxBnB,QAAQ,CAACsB,QAAQ,CAACH,MAAM,CAC1B,CAAC;AAED,IAAA,OAAOA,MAAM;AACf;EAEA,IAAII,gBAAgBA,GAAW;AAC7B,IAAA,OAAOpB,8BAA8B,CAAC,IAAI,CAACgB,MAAM,CAAC;AACpD;EAEA,IAAIK,QAAQA,GAAwB;IAClC,OAAO,IAAI,CAACT,IAAI,CAACS,QAAQ,IAAIC,wBAAwB,CAACC,GAAG;AAC3D;EAEA,IAAIC,UAAUA,GAAW;AACvB,IAAA,MAAMC,OAAO,GAAG,CAAC,wBAAwB,CAAC;IAE1CA,OAAO,CAACC,IAAI,CAAC,CAAA,wBAAA,EAA2B,IAAI,CAACV,MAAM,EAAE,CAAC;AAEtD,IAAA,OAAOS,OAAO,CAACP,IAAI,CAAC,GAAG,CAAC;AAC1B;AACF;AAACS,oBAAA,CAAAC,QAAA,EAxDoB1B,kBAAkB,CAAA;;;;"}