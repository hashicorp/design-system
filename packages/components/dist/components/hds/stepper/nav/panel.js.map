{"version":3,"file":"panel.js","sources":["../../../../../src/components/hds/stepper/nav/panel.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport { action } from '@ember/object';\nimport { modifier } from 'ember-modifier';\n\nimport type { HdsStepperNavStepIds, HdsStepperNavPanelIds } from '../types.ts';\n\nexport interface HdsStepperNavPanelSignature {\n  Args: {\n    currentStep: number;\n    isNavInteractive?: boolean;\n    stepIds?: HdsStepperNavStepIds;\n    panelIds?: HdsStepperNavPanelIds;\n    didInsertNode?: () => void;\n    willDestroyNode?: (element: HTMLElement) => void;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLElement;\n}\n\nexport default class HdsStepperNavPanel extends Component<HdsStepperNavPanelSignature> {\n  private _panelId = 'panel-' + guidFor(this);\n  private _elementId?: string;\n\n  private _setUpPanel = modifier(\n    (\n      element: HTMLElement,\n      [insertCallbackFunction, destroyCallbackFunction]\n    ) => {\n      if (typeof insertCallbackFunction === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n        insertCallbackFunction(element);\n      }\n\n      return () => {\n        if (typeof destroyCallbackFunction === 'function') {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n          destroyCallbackFunction(element);\n        }\n      };\n    }\n  );\n\n  get isNavInteractive(): boolean {\n    return this.args.isNavInteractive != undefined\n      ? this.args.isNavInteractive\n      : true;\n  }\n\n  get nodeIndex(): number | undefined {\n    return this.args.panelIds?.indexOf(this._panelId);\n  }\n\n  get coupledStepId(): string | undefined {\n    return this.nodeIndex !== undefined\n      ? this.args.stepIds?.[this.nodeIndex]\n      : undefined;\n  }\n\n  get isVisible(): boolean {\n    return this.nodeIndex === this.args.currentStep;\n  }\n\n  @action\n  didInsertNode(element: HTMLElement): void {\n    const { didInsertNode } = this.args;\n\n    if (typeof didInsertNode === 'function') {\n      this._elementId = element.id;\n      didInsertNode();\n    }\n  }\n\n  @action\n  willDestroyNode(element: HTMLElement): void {\n    const { willDestroyNode } = this.args;\n\n    if (typeof willDestroyNode === 'function') {\n      willDestroyNode(element);\n    }\n  }\n}\n"],"names":["HdsStepperNavPanel","Component","_panelId","guidFor","_elementId","_setUpPanel","modifier","element","insertCallbackFunction","destroyCallbackFunction","isNavInteractive","args","undefined","nodeIndex","panelIds","indexOf","coupledStepId","stepIds","isVisible","currentStep","didInsertNode","id","n","prototype","action","willDestroyNode","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;;AAwBe,MAAMA,kBAAkB,SAASC,SAAS,CAA8B;AAC7EC,EAAAA,QAAQ,GAAG,QAAQ,GAAGC,OAAO,CAAC,IAAI,CAAC;EACnCC,UAAU;EAEVC,WAAW,GAAGC,QAAQ,CAC5B,CACEC,OAAoB,EACpB,CAACC,sBAAsB,EAAEC,uBAAuB,CAAC,KAC9C;AACH,IAAA,IAAI,OAAOD,sBAAsB,KAAK,UAAU,EAAE;AAChD;MACAA,sBAAsB,CAACD,OAAO,CAAC;AACjC;AAEA,IAAA,OAAO,MAAM;AACX,MAAA,IAAI,OAAOE,uBAAuB,KAAK,UAAU,EAAE;AACjD;QACAA,uBAAuB,CAACF,OAAO,CAAC;AAClC;KACD;AACH,GACF,CAAC;EAED,IAAIG,gBAAgBA,GAAY;AAC9B,IAAA,OAAO,IAAI,CAACC,IAAI,CAACD,gBAAgB,IAAIE,SAAS,GAC1C,IAAI,CAACD,IAAI,CAACD,gBAAgB,GAC1B,IAAI;AACV;EAEA,IAAIG,SAASA,GAAuB;IAClC,OAAO,IAAI,CAACF,IAAI,CAACG,QAAQ,EAAEC,OAAO,CAAC,IAAI,CAACb,QAAQ,CAAC;AACnD;EAEA,IAAIc,aAAaA,GAAuB;AACtC,IAAA,OAAO,IAAI,CAACH,SAAS,KAAKD,SAAS,GAC/B,IAAI,CAACD,IAAI,CAACM,OAAO,GAAG,IAAI,CAACJ,SAAS,CAAC,GACnCD,SAAS;AACf;EAEA,IAAIM,SAASA,GAAY;IACvB,OAAO,IAAI,CAACL,SAAS,KAAK,IAAI,CAACF,IAAI,CAACQ,WAAW;AACjD;EAGAC,aAAaA,CAACb,OAAoB,EAAQ;IACxC,MAAM;AAAEa,MAAAA;KAAe,GAAG,IAAI,CAACT,IAAI;AAEnC,IAAA,IAAI,OAAOS,aAAa,KAAK,UAAU,EAAE;AACvC,MAAA,IAAI,CAAChB,UAAU,GAAGG,OAAO,CAACc,EAAE;AAC5BD,MAAAA,aAAa,EAAE;AACjB;AACF;AAAC,EAAA;IAAAE,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,eAAA,EAAA,CARAC,MAAM,CAAA,CAAA;AAAA;EAWPC,eAAeA,CAAClB,OAAoB,EAAQ;IAC1C,MAAM;AAAEkB,MAAAA;KAAiB,GAAG,IAAI,CAACd,IAAI;AAErC,IAAA,IAAI,OAAOc,eAAe,KAAK,UAAU,EAAE;MACzCA,eAAe,CAAClB,OAAO,CAAC;AAC1B;AACF;AAAC,EAAA;IAAAe,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,iBAAA,EAAA,CAPAC,MAAM,CAAA,CAAA;AAAA;AAQT;AAACE,oBAAA,CAAAC,QAAA,EA7DoB3B,kBAAkB,CAAA;;;;"}