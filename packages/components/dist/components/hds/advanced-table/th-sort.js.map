{"version":3,"file":"th-sort.js","sources":["../../../../src/components/hds/advanced-table/th-sort.hbs","../../../../src/components/hds/advanced-table/th-sort.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{!\\n  Copyright (c) HashiCorp, Inc.\\n  SPDX-License-Identifier: MPL-2.0\\n}}\\n<div\\n  class={{this.classNames}}\\n  aria-sort={{this.ariaSort}}\\n  ...attributes\\n  scope=\\\"col\\\"\\n  role=\\\"columnheader\\\"\\n  aria-rowspan={{@rowspan}}\\n  aria-colspan={{@colspan}}\\n  {{did-insert this.didInsert}}\\n>\\n  <div class=\\\"hds-advanced-table__th-content\\\">\\n    <span id={{this.labelId}} class=\\\"hds-typography-body-200 hds-font-weight-semibold\\\">{{yield}}</span>\\n    {{#if @tooltip}}\\n      <Hds::AdvancedTable::ThButtonTooltip @tooltip={{@tooltip}} @labelId={{this.labelId}} />\\n    {{/if}}\\n    <Hds::AdvancedTable::ThButtonSort @sortOrder={{@sortOrder}} @onClick={{@onClickSort}} @labelId={{this.labelId}} />\\n  </div>\\n</div>\")","/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport { assert } from '@ember/debug';\nimport { action } from '@ember/object';\n\nimport {\n  HdsAdvancedTableHorizontalAlignmentValues,\n  HdsAdvancedTableThSortOrderValues,\n  HdsAdvancedTableThSortOrderLabelValues,\n} from './types.ts';\nimport type {\n  HdsAdvancedTableHorizontalAlignment,\n  HdsAdvancedTableThSortOrder,\n  HdsAdvancedTableThSortOrderLabels,\n} from './types.ts';\nimport type { HdsAdvancedTableThButtonSortSignature } from './th-button-sort';\nimport { didInsertGridCell, handleGridCellKeyPress } from './helpers.ts';\n\nexport const ALIGNMENTS: string[] = Object.values(\n  HdsAdvancedTableHorizontalAlignmentValues\n);\nexport const DEFAULT_ALIGN = HdsAdvancedTableHorizontalAlignmentValues.Left;\n\nexport interface HdsAdvancedTableThSortSignature {\n  Args: {\n    align?: HdsAdvancedTableHorizontalAlignment;\n    onClickSort?: HdsAdvancedTableThButtonSortSignature['Args']['onClick'];\n    sortOrder?: HdsAdvancedTableThSortOrder;\n    tooltip?: string;\n    rowspan?: number;\n    colspan?: number;\n  };\n  Blocks: {\n    default: [];\n  };\n  Element: HTMLDivElement;\n}\n\nexport default class HdsAdvancedTableThSort extends Component<HdsAdvancedTableThSortSignature> {\n  labelId = guidFor(this);\n\n  @action\n  didInsert(element: HTMLDivElement): void {\n    didInsertGridCell(element);\n    element.addEventListener('keydown', handleGridCellKeyPress);\n  }\n\n  /**\n   * @param ariaSort\n   * @type {HdsAdvancedTableThSortOrderLabels}\n   * @private\n   * @default none\n   * @description Sets the aria-sort attribute based on the sort order defined; acceptable values are ascending, descending, none(default) and other. Authors SHOULD only apply this property to table headers or grid headers. If the property is not provided, there is no defined sort order. For each table or grid, authors SHOULD apply aria-sort to only one header at a time.\n   */\n  get ariaSort(): HdsAdvancedTableThSortOrderLabels {\n    switch (this.args.sortOrder) {\n      case HdsAdvancedTableThSortOrderValues.Asc:\n        return HdsAdvancedTableThSortOrderLabelValues.Asc;\n      case HdsAdvancedTableThSortOrderValues.Desc:\n        return HdsAdvancedTableThSortOrderLabelValues.Desc;\n      default:\n        // none is the default per the spec.\n        return HdsAdvancedTableThSortOrderLabelValues.None;\n    }\n  }\n\n  get align(): HdsAdvancedTableHorizontalAlignment {\n    const { align = DEFAULT_ALIGN } = this.args;\n\n    assert(\n      `@align for \"Hds::Table\" must be one of the following: ${ALIGNMENTS.join(\n        ', '\n      )}; received: ${align}`,\n      ALIGNMENTS.includes(align)\n    );\n    return align;\n  }\n\n  get classNames(): string {\n    const classes = ['hds-advanced-table__th', 'hds-advanced-table__th--sort'];\n\n    // add a class based on the @align argument\n    if (this.align) {\n      classes.push(`hds-advanced-table__th--align-${this.align}`);\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["ALIGNMENTS","Object","values","HdsAdvancedTableHorizontalAlignmentValues","DEFAULT_ALIGN","Left","HdsAdvancedTableThSort","_class","Component","constructor","args","_defineProperty","guidFor","didInsert","element","didInsertGridCell","addEventListener","handleGridCellKeyPress","ariaSort","sortOrder","HdsAdvancedTableThSortOrderValues","Asc","HdsAdvancedTableThSortOrderLabelValues","Desc","None","align","assert","join","includes","classNames","classes","push","_applyDecoratedDescriptor","prototype","action","getOwnPropertyDescriptor","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;;;AACA,eAAe,kBAAkB,CAAC,ktBAAktB;;;ACsB7uB,MAAMA,UAAoB,GAAGC,MAAM,CAACC,MAAM,CAC/CC,yCACF,EAAC;AACYC,MAAAA,aAAa,GAAGD,yCAAyC,CAACE,KAAI;AAiBtDC,IAAAA,sBAAsB,IAAAC,MAAA,GAA5B,MAAMD,sBAAsB,SAASE,SAAS,CAAkC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,CACnFC,IAAAA,EAAAA,SAAAA,EAAAA,OAAO,CAAC,IAAI,CAAC,CAAA,CAAA;AAAA,GAAA;EAGvBC,SAASA,CAACC,OAAuB,EAAQ;IACvCC,iBAAiB,CAACD,OAAO,CAAC,CAAA;AAC1BA,IAAAA,OAAO,CAACE,gBAAgB,CAAC,SAAS,EAAEC,sBAAsB,CAAC,CAAA;AAC7D,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACE,IAAIC,QAAQA,GAAsC;AAChD,IAAA,QAAQ,IAAI,CAACR,IAAI,CAACS,SAAS;MACzB,KAAKC,iCAAiC,CAACC,GAAG;QACxC,OAAOC,sCAAsC,CAACD,GAAG,CAAA;MACnD,KAAKD,iCAAiC,CAACG,IAAI;QACzC,OAAOD,sCAAsC,CAACC,IAAI,CAAA;AACpD,MAAA;AACE;QACA,OAAOD,sCAAsC,CAACE,IAAI,CAAA;AACtD,KAAA;AACF,GAAA;EAEA,IAAIC,KAAKA,GAAwC;IAC/C,MAAM;AAAEA,MAAAA,KAAK,GAAGrB,aAAAA;KAAe,GAAG,IAAI,CAACM,IAAI,CAAA;AAE3CgB,IAAAA,MAAM,CACJ,CAAyD1B,sDAAAA,EAAAA,UAAU,CAAC2B,IAAI,CACtE,IACF,CAAC,CAAA,YAAA,EAAeF,KAAK,CAAA,CAAE,EACvBzB,UAAU,CAAC4B,QAAQ,CAACH,KAAK,CAC3B,CAAC,CAAA;AACD,IAAA,OAAOA,KAAK,CAAA;AACd,GAAA;EAEA,IAAII,UAAUA,GAAW;AACvB,IAAA,MAAMC,OAAO,GAAG,CAAC,wBAAwB,EAAE,8BAA8B,CAAC,CAAA;;AAE1E;IACA,IAAI,IAAI,CAACL,KAAK,EAAE;MACdK,OAAO,CAACC,IAAI,CAAC,CAAA,8BAAA,EAAiC,IAAI,CAACN,KAAK,EAAE,CAAC,CAAA;AAC7D,KAAA;AAEA,IAAA,OAAOK,OAAO,CAACH,IAAI,CAAC,GAAG,CAAC,CAAA;AAC1B,GAAA;AACF,CAAC,GAAAK,yBAAA,CAAAzB,MAAA,CAAA0B,SAAA,EAAA,WAAA,EAAA,CA/CEC,MAAM,CAAAjC,EAAAA,MAAA,CAAAkC,wBAAA,CAAA5B,MAAA,CAAA0B,SAAA,gBAAA1B,MAAA,CAAA0B,SAAA,CAAA,GAAA1B,MAAA,EAAA;AAHkC6B,oBAAA,CAAAC,QAAA,EAAtB/B,sBAAsB,CAAA;;;;"}