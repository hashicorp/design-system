{"version":3,"file":"tr.js","sources":["../../../../src/components/hds/advanced-table/tr.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport Component from '@glimmer/component';\nimport { assert } from '@ember/debug';\n\nimport { HdsAdvancedTableScopeValues } from './types.ts';\nimport type {\n  HdsAdvancedTableScope,\n  HdsAdvancedTableThSortOrder,\n} from './types.ts';\nimport type { HdsFormCheckboxBaseSignature } from '../form/checkbox/base.ts';\nimport type { HdsAdvancedTableSignature } from './index.ts';\nimport type { HdsAdvancedTableThSelectableSignature } from './th-selectable.ts';\n\nexport interface BaseHdsAdvancedTableTrSignature {\n  Args: {\n    selectableColumnKey?: HdsAdvancedTableSignature['Args']['selectableColumnKey'];\n    isLastRow?: boolean;\n    isSelectable?: boolean;\n    isSelected?: false;\n    isParentRow?: boolean;\n    selectionAriaLabelSuffix?: string;\n    selectionKey?: string;\n    selectionScope?: HdsAdvancedTableScope;\n    sortBySelectedOrder?: HdsAdvancedTableThSortOrder;\n    depth?: number;\n    didInsert?: (\n      checkbox: HdsFormCheckboxBaseSignature['Element'],\n      selectionKey?: string\n    ) => void;\n    onSelectionChange?: (\n      checkbox?: HdsFormCheckboxBaseSignature['Element'],\n      selectionKey?: string\n    ) => void;\n    willDestroy?: () => void;\n    onClickSortBySelected?: HdsAdvancedTableThSelectableSignature['Args']['onClickSortBySelected'];\n    displayRow?: boolean;\n    hasStickyColumn?: boolean;\n    isStickyColumnPinned?: boolean;\n  };\n  Blocks: {\n    default?: [];\n  };\n  Element: HTMLDivElement;\n}\n\n// Extended interface for selectable rows\nexport interface SelectableHdsAdvancedTableTrArgs\n  extends BaseHdsAdvancedTableTrSignature {\n  Args: BaseHdsAdvancedTableTrSignature['Args'] & {\n    isSelectable: true;\n    selectionScope?: HdsAdvancedTableScopeValues.Row;\n    selectionKey: string; // Now required for selectable rows\n  };\n}\n\n// Union type to combine both possible states\nexport type HdsAdvancedTableTrSignature =\n  | BaseHdsAdvancedTableTrSignature\n  | SelectableHdsAdvancedTableTrArgs;\nexport default class HdsAdvancedTableTr extends Component<HdsAdvancedTableTrSignature> {\n  get selectionKey(): string | undefined {\n    if (this.args.isSelectable && this.args.selectionScope === 'row') {\n      assert(\n        `@selectionKey must be defined on Table::Tr or B.Tr when @isSelectable is true`,\n        this.args.selectionKey\n      );\n      return this.args.selectionKey;\n    }\n    return undefined;\n  }\n\n  get classNames(): string {\n    const { depth, isLastRow, isParentRow, displayRow } = this.args;\n    const classes = ['hds-advanced-table__tr'];\n\n    if (depth && depth > 0) {\n      classes.push('hds-advanced-table__tr--nested');\n    }\n\n    if (isParentRow) {\n      classes.push('hds-advanced-table__tr--parent-row');\n    }\n\n    if (displayRow === false) {\n      classes.push('hds-advanced-table__tr--hidden');\n    }\n\n    if (isLastRow) {\n      classes.push('hds-advanced-table__tr--last-row');\n    }\n\n    return classes.join(' ');\n  }\n}\n"],"names":["HdsAdvancedTableTr","Component","selectionKey","args","isSelectable","selectionScope","assert","undefined","classNames","depth","isLastRow","isParentRow","displayRow","classes","push","join","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;AA4De,MAAMA,kBAAkB,SAASC,SAAS,CAA8B;EACrF,IAAIC,YAAYA,GAAuB;AACrC,IAAA,IAAI,IAAI,CAACC,IAAI,CAACC,YAAY,IAAI,IAAI,CAACD,IAAI,CAACE,cAAc,KAAK,KAAK,EAAE;MAChEC,MAAM,CACJ,+EAA+E,EAC/E,IAAI,CAACH,IAAI,CAACD,YACZ,CAAC;AACD,MAAA,OAAO,IAAI,CAACC,IAAI,CAACD,YAAY;AAC/B;AACA,IAAA,OAAOK,SAAS;AAClB;EAEA,IAAIC,UAAUA,GAAW;IACvB,MAAM;MAAEC,KAAK;MAAEC,SAAS;MAAEC,WAAW;AAAEC,MAAAA;KAAY,GAAG,IAAI,CAACT,IAAI;AAC/D,IAAA,MAAMU,OAAO,GAAG,CAAC,wBAAwB,CAAC;AAE1C,IAAA,IAAIJ,KAAK,IAAIA,KAAK,GAAG,CAAC,EAAE;AACtBI,MAAAA,OAAO,CAACC,IAAI,CAAC,gCAAgC,CAAC;AAChD;AAEA,IAAA,IAAIH,WAAW,EAAE;AACfE,MAAAA,OAAO,CAACC,IAAI,CAAC,oCAAoC,CAAC;AACpD;IAEA,IAAIF,UAAU,KAAK,KAAK,EAAE;AACxBC,MAAAA,OAAO,CAACC,IAAI,CAAC,gCAAgC,CAAC;AAChD;AAEA,IAAA,IAAIJ,SAAS,EAAE;AACbG,MAAAA,OAAO,CAACC,IAAI,CAAC,kCAAkC,CAAC;AAClD;AAEA,IAAA,OAAOD,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC;AAC1B;AACF;AAACC,oBAAA,CAAAC,QAAA,EAlCoBjB,kBAAkB,CAAA;;;;"}