{"version":3,"file":"row.js","sources":["../../../../../src/components/hds/advanced-table/models/row.ts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: MPL-2.0\n */\n\nimport { tracked } from '@glimmer/tracking';\nimport { action } from '@ember/object';\nimport { guidFor } from '@ember/object/internals';\n\nimport type { HdsAdvancedTableColumn } from '../types';\n\ninterface HdsAdvancedTableRowArgs {\n  [key: string]: unknown;\n  columns: HdsAdvancedTableColumn[];\n  id?: string;\n  childrenKey?: string;\n}\n\nexport default class HdsAdvancedTableRow {\n  id = guidFor(this);\n\n  // row data\n  [key: string]: unknown;\n\n  @tracked isOpen: boolean = false;\n\n  children: HdsAdvancedTableRow[] = [];\n  childrenKey: string;\n\n  get hasChildren(): boolean {\n    return this.children.length > 0;\n  }\n\n  get showChildren(): boolean {\n    return this.isOpen && this.hasChildren;\n  }\n\n  constructor(args: HdsAdvancedTableRowArgs) {\n    // set row data\n    Object.assign(this, args);\n\n    this.childrenKey = args.childrenKey ?? 'children';\n\n    const childModels = args[this.childrenKey];\n\n    if (Array.isArray(childModels)) {\n      this.children = childModels.map(\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        (child) => new HdsAdvancedTableRow(child)\n      );\n    }\n  }\n\n  @action\n  openAll() {\n    this.isOpen = true;\n    this.children.forEach((child) => child.openAll());\n  }\n\n  @action\n  collapseAll() {\n    this.isOpen = false;\n    this.children.forEach((child) => child.collapseAll());\n  }\n\n  @action\n  onClickToggle() {\n    this.isOpen = !this.isOpen;\n  }\n}\n"],"names":["HdsAdvancedTableRow","id","guidFor","g","prototype","tracked","i","void 0","children","childrenKey","hasChildren","length","showChildren","isOpen","constructor","args","Object","assign","childModels","Array","isArray","map","child","openAll","forEach","n","action","collapseAll","onClickToggle"],"mappings":";;;;;AAAA;AACA;AACA;AACA;;AAee,MAAMA,mBAAmB,CAAC;AACvCC,EAAAA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;;AAElB;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,QAAA,EAAA,CAGCC,OAAO,CAAA,EAAA,YAAA;AAAA,MAAA,OAAmB,KAAK;AAAA,KAAA,CAAA;AAAA;AAAA,EAAA,OAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAAC,MAAA;AAEhCC,EAAAA,QAAQ,GAA0B,EAAE;EACpCC,WAAW;EAEX,IAAIC,WAAWA,GAAY;AACzB,IAAA,OAAO,IAAI,CAACF,QAAQ,CAACG,MAAM,GAAG,CAAC;AACjC;EAEA,IAAIC,YAAYA,GAAY;AAC1B,IAAA,OAAO,IAAI,CAACC,MAAM,IAAI,IAAI,CAACH,WAAW;AACxC;EAEAI,WAAWA,CAACC,IAA6B,EAAE;AACzC;AACAC,IAAAA,MAAM,CAACC,MAAM,CAAC,IAAI,EAAEF,IAAI,CAAC;AAEzB,IAAA,IAAI,CAACN,WAAW,GAAGM,IAAI,CAACN,WAAW,IAAI,UAAU;AAEjD,IAAA,MAAMS,WAAW,GAAGH,IAAI,CAAC,IAAI,CAACN,WAAW,CAAC;AAE1C,IAAA,IAAIU,KAAK,CAACC,OAAO,CAACF,WAAW,CAAC,EAAE;AAC9B,MAAA,IAAI,CAACV,QAAQ,GAAGU,WAAW,CAACG,GAAG;AAC7B;AACCC,MAAAA,KAAK,IAAK,IAAItB,mBAAmB,CAACsB,KAAK,CAC1C,CAAC;AACH;AACF;AAGAC,EAAAA,OAAOA,GAAG;IACR,IAAI,CAACV,MAAM,GAAG,IAAI;AAClB,IAAA,IAAI,CAACL,QAAQ,CAACgB,OAAO,CAAEF,KAAK,IAAKA,KAAK,CAACC,OAAO,EAAE,CAAC;AACnD;AAAC,EAAA;IAAAE,CAAA,CAAA,IAAA,CAAArB,SAAA,EAAA,SAAA,EAAA,CAJAsB,MAAM,CAAA,CAAA;AAAA;AAOPC,EAAAA,WAAWA,GAAG;IACZ,IAAI,CAACd,MAAM,GAAG,KAAK;AACnB,IAAA,IAAI,CAACL,QAAQ,CAACgB,OAAO,CAAEF,KAAK,IAAKA,KAAK,CAACK,WAAW,EAAE,CAAC;AACvD;AAAC,EAAA;IAAAF,CAAA,CAAA,IAAA,CAAArB,SAAA,EAAA,aAAA,EAAA,CAJAsB,MAAM,CAAA,CAAA;AAAA;AAOPE,EAAAA,aAAaA,GAAG;AACd,IAAA,IAAI,CAACf,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM;AAC5B;AAAC,EAAA;IAAAY,CAAA,CAAA,IAAA,CAAArB,SAAA,EAAA,eAAA,EAAA,CAHAsB,MAAM,CAAA,CAAA;AAAA;AAIT;;;;"}