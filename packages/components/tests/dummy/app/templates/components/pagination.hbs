{{page-title "Pagination Component"}}

<h2 class="dummy-h2">Pagination</h2>

<h3>Demo #1 - Numbered - With events</h3>

<Hds::Table
  @model={{this.paginatedData_demo1}}
  @columns={{array
    (hash key="id" label="ID")
    (hash key="name" label="Name")
    (hash key="email" label="Email")
    (hash key="role" label="Role")
  }}
>
  <:body as |B|>
    <B.Tr>
      <B.Td>{{B.data.id}}</B.Td>
      <B.Td>{{B.data.name}}</B.Td>
      <B.Td>{{B.data.email}}</B.Td>
      <B.Td>{{B.data.role}}</B.Td>
    </B.Tr>
  </:body>
</Hds::Table>

<Hds::Pagination::Numbered
  @totalItems={{this.demoTotalItems}}
  @itemsPerPage={{this.currentPageSize_demo1}}
  @currentPage={{2}}
  @pageSizes={{array 5 10 30}}
  @onPageChange={{this.onPageChange_demo1}}
  @onPageSizeChange={{this.onPageSizeChange_demo1}}
/>

<h3>Demo #2A - Numbered - With routing (via @queryParamPage/queryParamPageSize)</h3>

<Hds::Table
  @model={{this.paginatedData_demo2}}
  @columns={{array
    (hash key="id" label="ID" isSortable="true")
    (hash key="name" label="Name" isSortable="true")
    (hash key="email" label="Email")
    (hash key="role" label="Role")
  }}
  @sortBy={{this.currentSortBy_demo2}}
  @sortOrder={{this.currentSortOrder_demo2}}
  @onSort={{this.onTableSort_demo2}}
>
  <:body as |B|>
    <B.Tr>
      <B.Td>{{B.data.id}}</B.Td>
      <B.Td>{{B.data.name}}</B.Td>
      <B.Td>{{B.data.email}}</B.Td>
      <B.Td>{{B.data.role}}</B.Td>
    </B.Tr>
  </:body>
</Hds::Table>

<Hds::Pagination::Numbered
  @totalItems={{this.demoTotalItems}}
  @itemsPerPage={{this.currentPageSize_demo2}}
  @currentPage={{this.currentPage_demo2}}
  @pageSizes={{array 5 10 30}}
  @route={{this.consumerRouteName}}
  @queryParamPage="currentPage_demo2"
  @queryParamPageSize="currentPageSize_demo2"
  @onPageChange={{this.genericHandlePageChange}}
  @onPageSizeChange={{this.genericHandlePageSizeChange}}
/>

<h3>Demo #2B - Numbered - With routing (via @queryFunction)</h3>

<Hds::Table
  @model={{this.paginatedData_demo2}}
  @columns={{array
    (hash key="id" label="ID" isSortable="true")
    (hash key="name" label="Name" isSortable="true")
    (hash key="email" label="Email")
    (hash key="role" label="Role")
  }}
  @sortBy={{this.currentSortBy_demo2}}
  @sortOrder={{this.currentSortOrder_demo2}}
  @onSort={{this.onTableSort_demo2}}
>
  <:body as |B|>
    <B.Tr>
      <B.Td>{{B.data.id}}</B.Td>
      <B.Td>{{B.data.name}}</B.Td>
      <B.Td>{{B.data.email}}</B.Td>
      <B.Td>{{B.data.role}}</B.Td>
    </B.Tr>
  </:body>
</Hds::Table>

<Hds::Pagination::Numbered
  @totalItems={{this.demoTotalItems}}
  @itemsPerPage={{this.currentPageSize_demo2}}
  @currentPage={{this.currentPage_demo2}}
  @pageSizes={{array 5 10 30}}
  @route={{this.consumerRouteName}}
  @queryFunction={{this.consumerQueryFunction_demo2}}
  @onPageChange={{this.genericHandlePageChange}}
  @onPageSizeChange={{this.genericHandlePageSizeChange}}
/>

<h3>Demo #3 - Compact - With events</h3>

<Hds::Table
  @model={{this.paginatedData_demo3}}
  @columns={{array
    (hash key="id" label="ID")
    (hash key="name" label="Name")
    (hash key="email" label="Email")
    (hash key="role" label="Role")
  }}
>
  <:body as |B|>
    <B.Tr>
      <B.Td>{{B.data.id}}</B.Td>
      <B.Td>{{B.data.name}}</B.Td>
      <B.Td>{{B.data.email}}</B.Td>
      <B.Td>{{B.data.role}}</B.Td>
    </B.Tr>
  </:body>
</Hds::Table>

<Hds::Pagination::Compact
  @isDisabledPrev={{this.isDisabledPrev_demo3}}
  @isDisabledNext={{this.isDisabledNext_demo3}}
  @onPageChange={{this.onPageChange_demo3}}
/>

<h3>Demo #4 - Compact - With routing</h3>

<Hds::Table
  @model={{this.paginatedData_demo4}}
  @columns={{array
    (hash key="id" label="ID")
    (hash key="name" label="Name")
    (hash key="email" label="Email")
    (hash key="role" label="Role")
  }}
>
  <:body as |B|>
    <B.Tr>
      <B.Td>{{B.data.id}}</B.Td>
      <B.Td>{{B.data.name}}</B.Td>
      <B.Td>{{B.data.email}}</B.Td>
      <B.Td>{{B.data.role}}</B.Td>
    </B.Tr>
  </:body>
</Hds::Table>

<pre>this.newPrevCursor_demo4 = {{this.newPrevCursor_demo4}} ({{this.newPrevCursor_demo4_decoded}})</pre>
<pre>this.currentCursor_demo4 = {{this.currentCursor_demo4}} ({{this.currentCursor_demo4_decoded}})</pre>
<pre>this.newNextCursor_demo4 = {{this.newNextCursor_demo4}} ({{this.newNextCursor_demo4_decoded}})</pre>

<Hds::Pagination::Compact
  @route={{this.consumerRouteName}}
  @queryPrev={{hash prevToken_demo4=this.newPrevNextCursors_demo4.newPrevToken nextToken_demo4=undefined}}
  @isDisabledPrev={{if this.newPrevNextCursors_demo4.newPrevToken false true}}
  @queryNext={{hash nextToken_demo4=this.newPrevNextCursors_demo4.newNextToken prevToken_demo4=undefined}}
  @isDisabledNext={{if this.newPrevNextCursors_demo4.newNextToken false true}}
  @onPageChange={{this.genericHandlePageChange}}
/>