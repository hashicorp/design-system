{{page-title "Dropdown Component"}}

<h2 class="dummy-h2">Dropdown Component</h2>

<section>
  <p class="dummy-paragraph">
    The dropdown component has several flexible features that allow developers to build the dropdown menu they wish.
  </p>
  <p class="dummy-paragraph">
    It makes use of the
    <code>Hds::Disclosure</code>
    component by providing items for the
    <code>:toggle</code>
    and
    <code>:content</code>
    named blocks.
  </p>
</section>
<section>
  <h3 class="dummy-h3" id="section-component-api">Component API</h3>
  <p class="dummy-paragraph" id="toggle-api">
    This is the API for the
    <span class="dummy-code">Dropdown::Toggle</span>
    component:
  </p>
  <dl class="dummy-component-props" aria-labelledby="toggle-api">
    <dt>
      toggle
      <code>
        enum
      </code>
    </dt>
    <dd>
      <p>Acceptable values:</p>
      <ol>
        <li>
          user
        </li>
        <li>
          overflow
        </li>
        <li class="default">
          text
        </li>
      </ol>
      <p>Identifies the type of toggle (button) that you want to use.</p>
    </dd>
    <dt>
      avatarUrl
      <code>string</code>
    </dt>
    <dd>
      <p>
        If
        <span class="dummy-code">@toggle="user"</span>
        is declared, you can add
        <span class="dummy-code">@avatarUrl</span>
        to identify an image to be used for the avatar. If no avatarUrl is defined, the default user icon will be
        displayed.
      </p>
    </dd>
    <dt>
      color
      <code>enum</code>
    </dt>
    <dd>
      <p>Acceptable values:</p>
      <ol>
        <li class="default">
          primary
        </li>
        <li>
          secondary
        </li>
      </ol>
      <p>
        To indicate that a secondary button style should be used for the "text" toggle, add
        <span class="dummy-code">@color="secondary"</span>. If no
        <span class="dummy-code">@color</span>
        is declared,
        <span class="dummy-code">primary</span>
        will be used by default.
      </p>
    </dd>
    <dt>
      size
      <code>
        enum
      </code>
    </dt>
    <dd>
      <p>
        Acceptable values:
      </p>
      <ol>
        <li class="default">
          16
        </li>
        <li>
          24
        </li>
      </ol>
      <p>
        The
        <span class="dummy-code">@size</span>
        property may only be set if
        <span class="dummy-code">overflow</span>
        toggle is defined.
      </p>
    </dd>
  </dl>
  <hr />
  <p class="dummy-paragraph" id="listitem-api">
    This is the API for the
    <span class="dummy-code">Dropdown::ListItem</span>
    component:
  </p>
  <dl class="dummy-component-props" aria-labelledby="listitem-api">
    <dt>
      item
      <code>
        enum
      </code>
    </dt>
    <dd>
      <p>
        Acceptable values:
      </p>
      <ol>
        <li>heading</li>
        <li>help-text</li>
        <li>separator</li>
        <li>copy-item</li>
        <li class="default">link</li>
      </ol>
    </dd>
    <dt>text
      <code>string</code>
    </dt>
    <dd>The text to be used for all items. The only item that does not require text to be defined is the separator.</dd>
    <dt>color <code>enum</code></dt>
    <dd>
      <p>
        Acceptabe values:
      </p>
      <ol>
        <li class="default">action</li>
        <li>critical</li>
      </ol>
    </dd>
    <dt>
      route
      <code>
        string
      </code>
    </dt>
    <dd>
      <p>
        If the link is internal, define a
        <span class="dummy-code">route</span>; Ember's
        <span class="dummy-code">LinkTo</span>
        component will be rendered.
      </p>
    </dd>
    <dt>
      href
      <code>
        string
      </code>
    </dt>
    <dd>
      <p>
        If the link is internal, define a
        <span class="dummy-code">href</span>; an
        <span class="dummy-code">&lt;a&gt;</span>
        element with the appropriate attributes will be rendered.
      </p>
    </dd>
    <dt>
      leadingIcon
      <code>string</code>
    </dt>
    <dd>
      Valid values are any of the flight icons
    </dd>
    <dt>
      trailingIcon
      <code>string</code>
    </dt>
    <dd>
      <p>
        Valid values are any of the flight icons
      </p>
      <p>
        Note: Both "leadingIcon" and "trailingIcon" are defined (vs. "iconPosition" in the button component, for
        example) because there may be use cases where both a leading and a trailing icon are required; these instances
        should be
        <em>very</em>
        rare.
      </p>
    </dd>
  </dl>
</section>
<section>
  <h3 class="dummy-h3" id="section-usage">Usage</h3>
  <h4 class="dummy-h4">Toggle/Text</h4>
  <div>
    <p class="dummy-paragraph">
      Example: a text toggle with links, a separator and a destructive (critical) link:
    </p>
    {{! prettier-ignore-start }}
    {{! template-lint-disable no-unbalanced-curlies }}
    <CodeBlock
      @language="markup"
      @code='
        &lt;Hds::Dropdown
          @toggle="text"
          @toggleText="Text Toggle"
          as |dd| &gt;

          &lt;dd.ListItem @route="components.dropdown" @text="Hover" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Focus" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Dropdown Component" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Active (+ Hover)" /&gt;
          &lt;dd.Separator /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" /&gt;
        &lt;/Hds::Dropdown&gt;
      '
    />
    {{! template-lint-enable no-unbalanced-curlies }}
    {{! prettier-ignore-end }}

    <p class="dummy-paragraph">Rendered (in a row, positioned to the right):</p>
    <nav class="dummy-nav-dropdown" aria-label="example positioned right">
      <ul class="dummy-nav-dropdown__list">
        <li class="dummy-nav-dropdown__list-item">
          <Hds::Dropdown @toggle="text" @toggleText="Text Toggle" as |dd|>

            <dd.ListItem @route="components.dropdown" @text="Hover" />
            <dd.ListItem @route="components.dropdown" @text="Focus" />
            <dd.ListItem @route="components.dropdown" @text="Dropdown Component" />
            <dd.ListItem @route="components.dropdown" @text="Active (+ Hover)" />
            <dd.Separator />
            <dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" />
          </Hds::Dropdown>
        </li>
      </ul>
    </nav>
    <p class="dummy-paragraph">Rendered as secondary variation (in a row, positioned to the right):</p>
    <nav class="dummy-nav-dropdown" aria-label="example secondary positioned right">
      <ul class="dummy-nav-dropdown__list">
        <li class="dummy-nav-dropdown__list-item">
          <Hds::Dropdown @toggle="text" @toggleText="Toggle" @color="secondary" as |dd|>

            <dd.ListItem @route="components.dropdown" @text="Hover" />
            <dd.ListItem @route="components.dropdown" @text="Focus" />
            <dd.ListItem @route="components.dropdown" @text="Dropdown Component" />
            <dd.ListItem @route="components.dropdown" @text="Active (+ Hover)" />
            <dd.Separator />
            <dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" />
          </Hds::Dropdown>
        </li>
      </ul>
    </nav>
  </div>
  <div>
    <h4 class="dummy-h4">Toggle/Overflow</h4>
    <p class="dummy-paragraph">
      Example: an "overflow" toggle with default and destructive (critical) links.
      <br />Note that
      <span class="dummy-code">toggleText</span>
      is still required, because it supplies the aria-label for the "overflow" toggle button.

    </p>
    {{! prettier-ignore-start }}
    {{! template-lint-disable no-unbalanced-curlies }}
    <CodeBlock
      @language="markup"
      @code='
        &lt;Hds::Dropdown
          @toggle="overflow"
          @toggleText="Overflow Options"
          as |dd| &gt;

          &lt;dd.ListItem @route="components.dropdown" @text="Create" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Read" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Update" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" /&gt;
        &lt;/Hds::Dropdown&gt;
      '
    />
    {{! template-lint-enable no-unbalanced-curlies }}
    {{! prettier-ignore-end }}
    <p class="dummy-paragraph">Rendered in a table cell:</p>
    <table class="dummy-table dummy-dropdown-table-demo">
      <thead>
        <tr>
          <th>Column A</th>
          <th>Column B</th>
          <th>Column C</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Row 1, cell 1</td>
          <td>Row 1, cell 2</td>
          <td></td>
        </tr>
        <tr>
          <td>Row 2, cell 1</td>
          <td>Row 2, cell 2</td>
          <td>
            <Hds::Dropdown @toggle="overflow" @toggleText="Overflow Options" as |dd|>

              <dd.ListItem @route="components.dropdown" @text="Create" />
              <dd.ListItem @route="components.dropdown" @text="Read" />
              <dd.ListItem @route="components.dropdown" @text="Update" />
              <dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" />
            </Hds::Dropdown>
          </td>
        </tr>
        <tr>
          <td>Row 3, cell 1</td>
          <td>Row 3, cell 2</td>
          <td></td>
        </tr>
        <tr>
          <td>Row 4, cell 1</td>
          <td>Row 4, cell 2</td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>
  {{! TODO we really need some spacing between these examples, the doc has no vertical rhythm }}
  <div>
    <h4 class="dummy-h4">Toggle/User</h4>
    <p class="dummy-paragraph">
      Example: a "user" toggle with a header, help-text, separator, and links.
      <br />Note that
      <span class="dummy-code">toggleText</span>
      is still required, because it supplies the value for the
      <span class="dummy-code">aria-label</span>
      attribute on the "overflow" toggle button.
    </p>
    {{! prettier-ignore-start }}
    {{! template-lint-disable no-unbalanced-curlies }}
    <CodeBlock
      @language="markup"
      @code='
        &lt;Hds::Dropdown
          @toggle="user"
          @toggleText="user menu"
          as |dd| &gt;

          &lt;dd.ListItem @item="heading" @text="Signed In" /&gt;
          &lt;dd.ListItem @item="help-text" @text="design-systems@hashicorp.com" /&gt;
          &lt;dd.Separator /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Settings and Preferences" /&gt;
          &lt;dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" /&gt;
        &lt;/Hds::Dropdown&gt;
      '
    />
    {{! template-lint-enable no-unbalanced-curlies }}
    {{! prettier-ignore-end }}
    <p class="dummy-paragraph">Rendered (in a row, positioned to the right):</p>
    <nav class="dummy-nav-dropdown" aria-label="example row user positioned right">
      <ul class="dummy-nav-dropdown__list">
        <li class="dummy-nav-dropdown__list-item">
          <Hds::Dropdown @toggle="user" @toggleText="user menu" as |dd|>
            <dd.ListItem @item="heading" @text="Signed In" />
            <dd.ListItem @item="help-text" @text="design-systems@hashicorp.com" />
            <dd.Separator />
            <dd.ListItem @route="components.dropdown" @text="Settings and Preferences" />
            <dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" />
          </Hds::Dropdown>
        </li>
      </ul>
    </nav>
    <p class="dummy-paragraph">Rendered user toggle (on a black background, in a row, positioned to the right):</p>
    <nav class="dummy-nav-dropdown background-black" aria-label="example row user bgblack positioned right">
      <ul class="dummy-nav-dropdown__list">
        <li class="dummy-nav-dropdown__list-item">
          <Hds::Dropdown @toggle="user" @toggleText="user menu" as |dd|>

            <dd.ListItem @item="heading" @text="Signed In" />
            <dd.ListItem @item="help-text" @text="design-systems@hashicorp.com" />
            <dd.Separator />
            <dd.ListItem @route="components.dropdown" @text="Settings and Preferences" />
            <dd.ListItem @route="components.dropdown" @text="Delete" @color="critical" @leadingIcon="trash" />
          </Hds::Dropdown>
        </li>
      </ul>
    </nav>
  </div>
</section>
<section>
  <h3 class="dummy-h3" id="section-design-guidelines">Design guidelines</h3>
  <p class="dummy-paragraph">Coming soon!</p>
</section>
<section>
  <h3 class="dummy-h3" id="section-accessibility">Accessibility</h3>
  <p class="dummy-paragraph">This component has been designed and implemented with accessibility in mind. When used as
    designed, there should not be any accessibility issues with this component.
  </p>
  <h4 class="dummy-h4">
    Known Accessibility Issues
  </h4>
  <p class="dummy-paragraph">The following are known accessibility issues, and developers should keep these in mind when
    implementing this component:</p>
  <ol class="dummy-list">
    <li>In any instance where data truncation occurs, there is no current method to access that data for the
      keyboard-only user.</li>
    <li>If the "overflow" toggle is used in the incorrect context, it will fail on perceivability. It must be used in
      context. For the best user experience, interactive elements should visually present as interactive, unless their
      context makes it clear that they are/should be interactive.</li>
  </ol>
  <h4 class="dummy-h4">
    Applicable WCAG Success Criteria (Reference)
  </h4>
  <p class="dummy-paragraph">
    This section is for reference only. This component intends to conform to the following WCAG success criteria:
  </p>
  <ul class="dummy-list">
    <li>
      1.3.1:
      <a
        href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships"
        rel="noopener noreferrer"
        target="_blank"
      >
        Information and Relationships
      </a>
    </li>
    <li>
      1.3.2:
      <a
        href="https://www.w3.org/WAI/WCAG21/Understanding/meaningful-sequence.html"
        rel="noopener noreferrer"
        target="_blank"
      >
        Meaningful Sequence
      </a>
    </li>
    <li>
      1.4.1:
      <a href="https://www.w3.org/WAI/WCAG21/Understanding/use-of-color.html" rel="noopener noreferrer" target="_blank">
        Use of Color
      </a>
    </li>
    <li>
      1.4.3:
      <a
        href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html"
        rel="noopener noreferrer"
        target="_blank"
      >
        Contrast (Minimum)
      </a>
    </li>
    <li>
      1.4.4:
      <a href="https://www.w3.org/WAI/WCAG21/Understanding/resize-text.html" rel="noopener noreferrer" target_="_blank">
        Resize Text
      </a>
    </li>
    <li>
      1.4.10:
      <a href="https://www.w3.org/WAI/WCAG21/Understanding/reflow.html" rel="noopener noreferrer" target="_blank">
        Reflow
      </a>
    </li>
    <li>
      1.4.11:
      <a
        href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html"
        rel="noopener noreferrer"
        target="_blank"
      >
        Non-Text Contrast
      </a>
    </li>
    <li>
      1.4.12:
      <a href="https://www.w3.org/WAI/WCAG21/Understanding/text-spacing.html" rel="noopener noreferrer" target="_blank">
        Text Spacing
      </a>
    </li>
    <li>
      2.1.1:
      <a href="https://www.w3.org/WAI/WCAG21/Understanding/keyboard.html" rel="noopener noreferrer" target="_blank">
        Keyboard
      </a>
    </li>
    <li>
      2.1.2:
      <a
        href="https://www.w3.org/WAI/WCAG21/Understanding/no-keyboard-trap.html"
        rel="noopener noreferrer"
        target="_blank"
      >
        No Keyboard Trap
      </a>
    </li>
    <li>
      2.4.3:
      <a href="https://www.w3.org/WAI/WCAG21/Understanding/focus-order.html" rel="noopener noreferrer" target="_blank">
        Focus Order
      </a>
    </li>
    <li>
      2.4.7:
      <a href="" rel="noopener noreferrer" target="_blank">
        Focus Visible
      </a>
    </li>
  </ul>
</section>

<section data-test-percy>
  <h3 class="dummy-h3" id="section-showcase">Showcase: Toggles</h3>

  <h4 class="dummy-h4">Toggle: Button (Default)</h4>
  <div class="dummy-dropdown-toggle-states-grid">
    <div>
      <p class="dummy-paragraph">Color: primary (default)</p>
      <span class="dummy-text-small">State: closed (default)</span>
      <Hds::Dropdown::ToggleButton @text="Manage sources" @isOpen={{false}} />
      <span class="dummy-text-small">State: opened</span>
      <Hds::Dropdown::ToggleButton @text="Manage sources" @isOpen={{true}} />
    </div>
    <div>
      <p class="dummy-paragraph">Color: secondary</p>
      <span class="dummy-text-small">State: closed (default)</span>
      <Hds::Dropdown::ToggleButton @text="Manage sources" @color="secondary" @isOpen={{false}} />
      <span class="dummy-text-small">State: opened</span>
      <Hds::Dropdown::ToggleButton @text="Manage sources" @color="secondary" @isOpen={{true}} />
    </div>
  </div>

  <h4 class="dummy-h4">Toggle: Overflow</h4>
  <div class="dummy-dropdown-toggle-states-grid">
    <div>
      <span class="dummy-text-small">Size: medium (default)</span>
      <Hds::Dropdown::ToggleOverflow />
    </div>
    <div>
      <span class="dummy-text-small">Size: small</span>
      <Hds::Dropdown::ToggleOverflow @size="small" />
    </div>
  </div>
  <h4 class="dummy-h4">Toggle: User</h4>
  <div class="dummy-dropdown-toggle-states-grid">
    <div>
      <p class="dummy-paragraph">Type: icon (default)</p>
      <span class="dummy-text-small">State: closed (default)</span>
      <Hds::Dropdown::ToggleUser @isOpen={{false}} />
      <span class="dummy-text-small">State: opened</span>
      <Hds::Dropdown::ToggleUser @isOpen={{true}} />
    </div>
    <div>
      <p class="dummy-paragraph">Type: avatar</p>
      <span class="dummy-text-small">State: closed (default)</span>
      <Hds::Dropdown::ToggleUser @avatarUrl="/assets/images/avatar.png" @isOpen={{false}} />
      <span class="dummy-text-small">State: opened</span>
      <Hds::Dropdown::ToggleUser @avatarUrl="/assets/images/avatar.png" @isOpen={{true}} />
    </div>
  </div>

  <h4 class="dummy-h4">Interaction states</h4>
  <div class="dummy-dropdown-toggle-states-grid">
    {{#each @model.TOGGLE_BUTTON_COLORS as |color|}}
      {{#each @model.TOGGLE_STATES as |state|}}
        <div>
          <span class="dummy-text-small">{{color}}/{{state}}:</span>
          <br />
          <Hds::Dropdown::ToggleButton @text={{capitalize state}} @color={{color}} class="is-{{state}}" />
        </div>
      {{/each}}
    {{/each}}
    {{#each @model.TOGGLE_OVERFLOW_SIZES as |size|}}
      {{#each @model.TOGGLE_STATES as |state|}}
        <div>
          <span class="dummy-text-small">{{size}}/{{state}}:</span>
          <br />
          <Hds::Dropdown::ToggleOverflow @size={{size}} class="is-{{state}}" />
        </div>
      {{/each}}
    {{/each}}
    {{#each @model.TOGGLE_STATES as |state|}}
      <div>
        <span class="dummy-text-small">{{state}}:</span>
        <br />
        <Hds::Dropdown::ToggleUser class="is-{{state}}" />
      </div>
    {{/each}}
    {{#each @model.TOGGLE_STATES as |state|}}
      <div>
        <span class="dummy-text-small">{{state}}:</span>
        <br />
        <Hds::Dropdown::ToggleUser @avatarUrl="/assets/images/avatar.png" class="is-{{state}}" />
      </div>
    {{/each}}
  </div>

  <h3 class="dummy-h3" id="section-showcase-listitem">Showcase: List Items</h3>

  <h4 class="dummy-h4">Heading, Help Text, Separator</h4>
  <div class="dummy-dropdown-list-items-base-sample">
    <ul class="hds-dropdown-list">
      <Hds::Dropdown::ListItem @item="heading" @text="A simple heading" />
      <Hds::Dropdown::ListItem @item="help-text" @text="Some help text." />
      <Hds::Dropdown::ListItem @item="separator" />
      <Hds::Dropdown::ListItem @route="index" @text="Item" />
    </ul>
    <ul class="hds-dropdown-list">
      <Hds::Dropdown::ListItem @item="heading" @text="A longer heading that goes on multiple lines" />
      <Hds::Dropdown::ListItem @item="help-text" @text="A longer help text that can span on multiple lines." />
      <Hds::Dropdown::ListItem @item="separator" />
      <Hds::Dropdown::ListItem @route="index" @text="Item" />
    </ul>
  </div>

  <h4 class="dummy-h4">Links</h4>

  {{#each @model.ITEM_COLORS as |color|}}
    <p class="dummy-paragraph">{{capitalize color}}</p>
    <div class="dummy-dropdown-list-items-base-sample">
      <ul class="hds-dropdown-list">
        {{#each @model.ITEM_STATES as |state|}}
          <Hds::Dropdown::ListItem @route="components.dropdown" @text={{state}} @color={{color}} @state={{state}} />
        {{/each}}
      </ul>
      <ul class="hds-dropdown-list">
        {{#each @model.ITEM_STATES as |state|}}
          <Hds::Dropdown::ListItem
            @route="components.dropdown"
            @icon={{if (eq color "critical") "trash" "settings"}}
            @text="{{state}} with icon"
            @color={{color}}
            @state={{state}}
          />
        {{/each}}
      </ul>
      <ul class="hds-dropdown-list">
        {{#each @model.ITEM_STATES as |state|}}
          <Hds::Dropdown::ListItem
            @route="components.dropdown"
            @icon={{if (eq color "critical") "trash" "settings"}}
            @text="{{state}} with a long multi-line text"
            @color={{color}}
            @state={{state}}
          />
        {{/each}}
      </ul>
    </div>
  {{/each}}
</section>