{{!
Copyright (c) HashiCorp, Inc.
SPDX-License-Identifier: MPL-2.0
}}

{{page-title "PageHeader Component"}}

<Shw::Text::H1>PageHeader</Shw::Text::H1>

<section data-test-percy>

  <Shw::Flex @direction="column" as |SF|>

    <SF.Item>

      <Shw::Text::H2>Basic examples</Shw::Text::H2>

      <Shw::Text::H3>Only title</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" />

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Badge</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Badges>
          <Hds::Badge @text="Badge" @icon="beaker" @color="highlight" />
        </PH.Badges>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>IconTile</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.IconTile @icon="server-cluster" />
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Breadcrumb</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Breadcrumb>
          <Hds::Breadcrumb>
            <Hds::Breadcrumb::Item @text="Organization" @icon="org" />
            <Hds::Breadcrumb::Item @text="Project" @icon="folder" />
            <Hds::Breadcrumb::Item @text="User" @icon="user" />
          </Hds::Breadcrumb>
        </PH.Breadcrumb>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Subtitle + description</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Subtitle>Subtitle lorem ipsum</PH.Subtitle>
        <PH.Description>Description lorem ipsum dolar sit amet.</PH.Description>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Single Action</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Actions>
          <Hds::Button @text="Create registry" @icon="plus" @iconPosition="leading" @color="primary" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Two Actions</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Actions>
          <Hds::Dropdown as |DD|>
            <DD.ToggleButton @text="Manage" @color="secondary" />
            <DD.Interactive @text="Manage cluster externally" />
            <DD.Interactive @text="Launch desktop" />
            <DD.Interactive @text="Delete" @color="critical" @icon="trash" />
          </Hds::Dropdown>
          <Hds::Button @text="Create" @icon="plus" @iconPosition="leading" @color="primary" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Three actions</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Actions>
          <Hds::Button @color="tertiary" @text="Migrate instructions" @icon="migrate" @iconPosition="leading" />
          <Hds::Button @color="secondary" @text="Edit cluster" />
          <Hds::Button @color="primary" @text="Create cluster" @icon="plus" @iconPosition="leading" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Custom metadata</Shw::Text::H3>

      <Hds::PageHeader @title="Page title" as |PH|>
        <PH.Generic>
          <Shw::Placeholder @text="generic content" @width="500" @height="36" @background="#e1f5fe" />
        </PH.Generic>
      </Hds::PageHeader>

    </SF.Item>

  </Shw::Flex>

  <Shw::Divider @level={{3}} />

  <Shw::Flex @direction="column" as |SF|>

    <SF.Item>

      <Shw::Text::H2>Complex examples</Shw::Text::H2>

      <Hds::PageHeader @title="HCP Packer" as |PH|>
        <PH.Breadcrumb>
          <Hds::Breadcrumb>
            <Hds::Breadcrumb::Item @text="Sandbox" @icon="org" />
            <Hds::Breadcrumb::Item @text="HCP Packer" @icon="packer" />
            <Hds::Breadcrumb::Item @text="jane-doe" @icon="file-text" />
          </Hds::Breadcrumb>
        </PH.Breadcrumb>
        <PH.IconTile @icon="packer-color" @color="packer" />
        <PH.Description>Create and view Packer registries in HCP.</PH.Description>
        <PH.Actions>
          <Hds::Button @text="Create Packer registery" @icon="plus" @iconPosition="leading" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Hds::PageHeader @title="Boundary clusters" as |PH|>
        <PH.IconTile @icon="boundary-color" @color="boundary" />
        <PH.Breadcrumb>
          <Hds::Breadcrumb>
            <Hds::Breadcrumb::Item @text="Cloud sandbox" @icon="org" />
            <Hds::Breadcrumb::Item @text="Boundary clusters" @icon="boundary" />
          </Hds::Breadcrumb>
        </PH.Breadcrumb>
        <PH.Badges>
          <Hds::Badge @text="Active" @icon="check" @color="success" />
        </PH.Badges>
        <PH.Subtitle>username / cluster-name</PH.Subtitle>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Hds::PageHeader @title="Multiple badges" as |PH|>
        <PH.Badges>
          <Hds::Badge @text="Active" @icon="check" @color="success" />
          <Hds::Badge @text="Deployed to AWS west-2" @color="highlight" @icon="rocket" />
          <Hds::BadgeCount @text="v1.5" @color="neutral" />
          <Hds::Badge @text="Locked by jane-doe" @color="warning" @icon="lock" />
        </PH.Badges>
        <PH.Description>
          While this is supported by the contextual component, this many badges being used to represent metadata can be
          problemantic.
        </PH.Description>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Hds::PageHeader @title="Users" as |PH|>
        <PH.Subtitle>Access control (IAM)</PH.Subtitle>
        <PH.Description>Manage organization users, roles, and access control.</PH.Description>
        <PH.Breadcrumb>
          <Hds::Breadcrumb>
            <Hds::Breadcrumb::Item @text="Cloud sandbox" @icon="org" />
            <Hds::Breadcrumb::Item @text="jane-doe" @icon="file-text" />
            <Hds::Breadcrumb::Item @text="Access control (IAM)" @icon="users" />
          </Hds::Breadcrumb>
        </PH.Breadcrumb>
        <PH.IconTile @icon="users" @color="terraform" />
        <PH.Actions>
          <Hds::Dropdown as |DD|>
            <DD.ToggleButton @text="Manage users" @color="secondary" />
            <DD.Interactive @text="Assign roles" @icon="user" />
            <DD.Interactive @text="Batch edit" @icon="edit" />
            <DD.Interactive @text="Delete user" @icon="trash" />
          </Hds::Dropdown>
          <Hds::Button @text="Add user" @icon="plus" @iconPosition="leading" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Hds::PageHeader @title="Custom metadata" as |PH|>
        <PH.Subtitle>clusters / beta-feature</PH.Subtitle>
        <PH.Generic>
          <Hds::Alert @type="compact" @color="warning" as |A|>
            <A.Title>Beta feature</A.Title>
            <A.Description>
              This feature is in beta and is subject to change. Refer to the
              <Hds::Link::Inline @href="#" @icon="external-link">HCP documentation</Hds::Link::Inline>
              for more information and roadmap.</A.Description>
          </Hds::Alert>
        </PH.Generic>
        <PH.Actions>
          <Hds::Button @text="Get started" @icon="beaker" @iconPosition="leading" />
        </PH.Actions>
        <PH.Badges>
          <Hds::Badge @text="Beta feature" @icon="wand" @color="highlight" />
        </PH.Badges>
      </Hds::PageHeader>

    </SF.Item>

  </Shw::Flex>

  <Shw::Divider @level={{3}} />

  <Shw::Flex @direction="column" as |SF|>

    <SF.Item>

      <Shw::Text::H2>Overflow examples and edge cases</Shw::Text::H2>

      <Shw::Text::Body @tag="p">
        These examples are meant to showcase the flexiblity, responsiveness, and potential gotchas related to the layout
        and fluidity of the component.
      </Shw::Text::Body>

      <Shw::Text::H3>Long title</Shw::Text::H3>

      <Shw::Text::Body @tag="p">Recommended title length is less than four words and not exceed 50 characters.</Shw::Text::Body>

      <Hds::PageHeader @title="Boundary cluster access control and clusters" as |PH|>
        <PH.IconTile @icon="boundary-color" @color="boundary" />
        <PH.Actions>
          <Hds::Dropdown as |DD|>
            <DD.ToggleButton @text="Manage users" @color="secondary" />
            <DD.Interactive @text="Assign roles" @icon="user" />
            <DD.Interactive @text="Batch edit" @icon="edit" />
            <DD.Interactive @text="Delete user" @icon="trash" />
          </Hds::Dropdown>
          <Hds::Button @text="Add user" @icon="plus" @iconPosition="leading" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Long title + badge</Shw::Text::H3>

      <Shw::Text::Body @tag="p">
        In the case of a badge, the title and badge will wrap if the available space is exceeded.
      </Shw::Text::Body>

      <Hds::PageHeader @title="Long page title with a badge ipsum dolar sit amet" as |PH|>
        <PH.IconTile @icon="boundary-color" @color="boundary" />
        <PH.Badges>
          <Hds::Badge @text="Wrapping badge" @icon="mic" @color="critical" />
        </PH.Badges>
        <PH.Actions>
          <Hds::Button @text="Server clusters" @icon="server-cluster" @iconPosition="trailing" />
        </PH.Actions>
      </Hds::PageHeader>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Component wrapping</Shw::Text::H3>

      <Shw::Text::Body @tag="p">The component uses container queries to determine two breakpoints at
        <code>700px</code>
        and
        <code>400px</code>
        which stack the content in a single column. As such, the buttons do not re-order at smaller viewports as is the
        recommendation in our documentation. Could this be addressed with some JavaScript wizadry, or is it something
        that we want to revise in the pattern documentation?
      </Shw::Text::Body>

      <Shw::Grid @columns={{3}} as |SG|>

        <SG.Item>
          <Hds::PageHeader @title="Title of the page" as |PH|>
            <PH.IconTile @icon="smartphone" />
            <PH.Breadcrumb>
              <Hds::Breadcrumb>
                <Hds::Breadcrumb::Item @text="Organization" />
                <Hds::Breadcrumb::Item @text="User" />
              </Hds::Breadcrumb>
            </PH.Breadcrumb>
            <PH.Badges>
              <Hds::Badge @text="Small viewport" @icon="tablet" />
            </PH.Badges>
            <PH.Subtitle>Forced small viewport</PH.Subtitle>
            <PH.Actions>
              <Hds::Button @text="Edit" @color="secondary" />
              <Hds::Button @text="Create" @color="primary" />
            </PH.Actions>
          </Hds::PageHeader>
        </SG.Item>

      </Shw::Grid>

      <Shw::Divider @level={{2}} />

      <Shw::Text::H3>Dropdown viewport collision</Shw::Text::H3>

      <Shw::Text::Body @tag="p">
        The Dropdown runs the risk of extending outside of the viewport width if
        <code>@listPosition</code>
        is set to anything except for
        <code>bottom-right</code>. The catch with this is since the Dropdown does not support collision avoidance, when
        the actions stack at smaller viewports the dropdown may extend outside of the viewport anyways.
      </Shw::Text::Body>

      <Hds::PageHeader @title="Dropdown position" as |PH|>
        <PH.IconTile @icon="droplet" @color="vagrant" />
        <PH.Breadcrumb>
          <Hds::Breadcrumb>
            <Hds::Breadcrumb::Item @text="Organization" />
            <Hds::Breadcrumb::Item @text="User" />
          </Hds::Breadcrumb>
        </PH.Breadcrumb>
        <PH.Actions>
          <Hds::Dropdown @listPosition="bottom-left" as |DD|>
            <DD.ToggleButton @text="Bottom left" @color="secondary" />
            <DD.Interactive @text="Assign roles" @icon="user" />
            <DD.Interactive @text="Batch edit" @icon="edit" />
            <DD.Interactive @text="Delete user" @icon="trash" />
          </Hds::Dropdown>
        </PH.Actions>
      </Hds::PageHeader>

    </SF.Item>
  </Shw::Flex>

</section>