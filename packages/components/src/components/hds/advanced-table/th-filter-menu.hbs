{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
<Hds::Dropdown
  class="hds-advanced-table__th-filter-menu {{if this.hasActiveFilters 'hds-advanced-table__th-filter-menu--active'}}"
  @enableCollisionDetection={{true}}
  @listPosition="bottom-right"
  @height="210px"
  {{this._updateInternalFilters}}
  ...attributes
  as |D|
>
  <D.ToggleIcon @icon="filter" @text="Filter for {{@column.label}}" @hasChevron={{false}} @size="small" />
  {{#each @column.filterOptions as |option|}}
    {{#if (eq @column.filterType "radio")}}
      <D.Radio
        @value={{option.value}}
        checked={{(this._isChecked option.value)}}
        data-test-filter-option-key={{option.value}}
        {{on "change" this.onFilter}}
      >
        {{option.label}}
      </D.Radio>
    {{else}}
      <D.Checkbox
        @value={{option.value}}
        checked={{(this._isChecked option.value)}}
        data-test-filter-option-key={{option.value}}
        {{on "change" this.onFilter}}
      >
        {{option.label}}
      </D.Checkbox>
    {{/if}}
  {{/each}}
  {{#unless @isLiveFilter}}
    <D.Footer @hasDivider={{true}}>
      <Hds::ButtonSet>
        <Hds::Button @text="Apply filters" @isFullWidth={{true}} @size="small" {{on "click" this.onApply}} />
        <Hds::Button @text="Clear" @color="secondary" @size="small" {{on "click" this.onClear}} />
      </Hds::ButtonSet>
    </D.Footer>
  {{/unless}}
</Hds::Dropdown>