{{! @glint-nocheck: not typesafe yet }}
{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
{{! template-lint-disable no-invalid-interactive }}
<div class="hds-popover-primitive" ...attributes {{this.setupMenuPrimitiveContainer}}>
  {{#if @containsInteractive}}
    <div class="hds-popover-primitive__toggle" tabindex="-1">
      {{! TODO! probably we can remove the need of forwarding the `setupMenuPrimitiveToggle` by using `click` events instead of `popovertarget` }}
      {{yield (hash isOpen=this.isOpen setupMenuPrimitiveToggle=(modifier this.setupMenuPrimitiveToggle)) to="toggle"}}
    </div>
  {{else}}
    {{! TODO! decide how to pass down aria label attributes to this button }}
    <button class="hds-popover-primitive__toggle" {{this.setupMenuPrimitiveToggle}} aria-label="todo">
      {{yield (hash isOpen=this.isOpen) to="toggle"}}
    </button>
  {{/if}}

  <div class="hds-popover-primitive__content" role="tooltip" tabindex="-1" {{this.setupMenuPrimitivePopover}}>
    {{#if this.isOpen}}
      {{yield (hash toggleElement=this.toggleElement close=this.close) to="content"}}
    {{/if}}
  </div>
</div>
{{! template-lint-enable no-invalid-interactive }}