{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{! @glint-nocheck: not typesafe yet }}
{{! TODO: format-date & format-relative have type errors, fix }}
{{#if @isValid}}
  <time class="hds-time" datetime={{@isoUtcString}} ...attributes {{did-insert @register}} {{will-destroy @unregister}}>
    {{#if @display.options.showFriendly}}
      {{#if @display.options.displayFormat}}
        {{hds-format-date
          @date
          @display.options.displayFormat.month
          @display.options.displayFormat.day
          @display.options.displayFormat.year
          @display.options.displayFormat.hour
          @display.options.displayFormat.minute
          @display.options.displayFormat.second
          @display.options.showFriendly
        }}
      {{else}}
        {{@isoUtcString}}
      {{/if}}
      {{#if @display.options.showRelative}}
        ({{hds-format-relative @display.relative.value @display.relative.unit}})
      {{/if}}
    {{else}}
      {{#if @display.options.showRelative}}
        {{hds-format-relative @display.relative.value @display.relative.unit}}
      {{/if}}
    {{/if}}
  </time>
{{else}}
  --
{{/if}}