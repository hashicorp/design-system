{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{! @glint-nocheck: not typesafe yet }}
{{! TODO: format-date & format-relative have type errors, fix }}
{{#if @isValidDate}}
  <time class="hds-time" datetime={{@isoUtcString}} ...attributes {{did-insert @register}} {{will-destroy @unregister}}>
    {{#if @display.options.showFriendly}}
      {{#if @display.options.displayFormat}}
        {{hds-format-date @date @display.options.displayFormat}}
      {{else}}
        {{@isoUtcString}}
      {{/if}}
      {{#if @display.options.showRelative}}
        ({{hds-format-relative @display.relative.value @display.relative.unit}})
      {{/if}}
    {{else}}
      {{#if @display.options.showRelative}}
        {{hds-format-relative @display.relative.value @display.relative.unit}}
      {{/if}}
    {{/if}}
  </time>
{{else if @isValidDateRange}}
  <span class="hds-time-range-contents">
    <time
      class="hds-time"
      datetime={{@isoUtcString}}
      ...attributes
      {{did-insert @register}}
      {{will-destroy @unregister}}
    >
      {{hds-format-date @startDate @display.options.displayFormat}}
    </time>
    â€“
    <time
      class="hds-time"
      datetime={{@isoUtcString}}
      ...attributes
      {{did-insert @register}}
      {{will-destroy @unregister}}
    >
      {{hds-format-date @endDate @display.options.displayFormat}}
    </time>
  </span>
{{else}}
  --
{{/if}}