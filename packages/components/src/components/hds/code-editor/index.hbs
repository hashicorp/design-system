{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

<div class={{this.classNames}} {{on "keydown" this.handleKeyDown}} ...attributes>
  {{#if (or this.hasHeaderInfo this.hasToolbarAction (has-block))}}
    <div class="hds-code-editor__header" {{did-insert this.registerCodeEditorHeader}}>
      <div class="hds-code-editor__header-content">
        {{yield (hash Title=(component "hds/code-editor/title") Description=(component "hds/code-editor/description"))}}

        <div class="hds-code-editor__header-generic-block">
          {{yield (hash ToolbarButton=(component "hds/code-editor/toolbar-button"))}}
        </div>
      </div>

      {{#if this.hasToolbarAction}}
        <div class="hds-code-editor__header-toolbar">
          {{#if @hasCopyButton}}
            <Hds::Copy::Button
              class="hds-code-editor__toolbar-button hds-code-editor__copy-button"
              @isIconOnly={{true}}
              @size="small"
              @text="Copy"
              @textToCopy={{@value}}
            />
          {{/if}}
          {{#if @canExpand}}
            <Hds::CodeEditor::ToolbarButton
              class="hds-code-editor__toolbar-button hds-code-editor__expand-button"
              @isIconOnly={{true}}
              @size="small"
              @icon="maximize"
              @text="Fullscreen"
              {{did-insert this.registerFullscreenButton}}
              {{on "click" this.toggleFullscreen}}
            />
          {{/if}}
        </div>
      {{/if}}
    </div>
  {{/if}}
  <div class="hds-code-editor__editor" {{hds-code-editor value=@value language=@language onInput=@onInput}} />
</div>