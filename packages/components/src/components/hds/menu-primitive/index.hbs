{{! @glint-nocheck: not typesafe yet }}
{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
{{! template-lint-disable no-invalid-interactive }}
<div
  class="hds-menu-primitive"
  ...attributes
  {{did-insert this.didInsert}}
  {{on "focusout" this.onFocusOut}}
  {{on "keyup" this.onKeyUp}}
>
  <div class="hds-menu-primitive__toggle" tabindex="-1">
    {{yield
      (hash didInsertToggle=this.didInsertToggle onClickToggle=this.onClickToggle isOpen=this.isOpen)
      to="toggle"
    }}
  </div>
  {{#if this.isOpen}}
    {{#if this.renderInElement}}
      {{#in-element this.renderInElement insertBefore=null}}
        <div class="hds-menu-primitive__content" tabindex="-1">
          {{yield
            (hash toggleElement=this.toggleElement didInsertContent=this.didInsertContent close=this.close)
            to="content"
          }}
        </div>
      {{/in-element}}
    {{else}}
      <div class="hds-menu-primitive__content" tabindex="-1">
        {{yield
          (hash toggleElement=this.toggleElement didInsertContent=this.didInsertContent close=this.close)
          to="content"
        }}
      </div>
    {{/if}}
  {{/if}}
</div>
{{! template-lint-enable no-invalid-interactive }}