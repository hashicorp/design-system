{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
{{#let @tab as |Tab|}}
  <Tab @numFilters={{this.numFilters}}>
    {{@text}}
  </Tab>
{{/let}}
{{#let @panel as |Panel|}}
  <Panel {{this._setUpFilterPanel}}>
    {{#if @searchEnabled}}
      <div class="hds-filter-bar__filter-group__search">
        <Hds::Form::TextInput::Base
          @type="search"
          aria-label={{hds-t
            "components.filter-bar.filter-group.search-input.aria-label"
            default="Search filter options"
          }}
          placeholder={{hds-t "hds.components.filter-bar.filter-group.search-input.placeholder" default="Search"}}
          {{on "input" this.onSearch}}
        />
      </div>
    {{/if}}
    {{#if (eq @type "numerical")}}
      <Hds::FilterBar::FilterGroup::Numerical
        @keyFilter={{this.keyFilter}}
        @text={{@text}}
        @onChange={{this.onNumericalChange}}
      />
    {{else if (eq @type "date")}}
      <Hds::FilterBar::FilterGroup::Date
        @keyFilter={{this.keyFilter}}
        @text={{@text}}
        @onChange={{this.onDateChange}}
        @type="date"
      />
    {{else if (eq @type "datetime")}}
      <Hds::FilterBar::FilterGroup::Date
        @keyFilter={{this.keyFilter}}
        @text={{@text}}
        @onChange={{this.onDateChange}}
        @type="datetime"
      />
    {{else if (eq @type "time")}}
      <Hds::FilterBar::FilterGroup::Date
        @keyFilter={{this.keyFilter}}
        @text={{@text}}
        @onChange={{this.onDateChange}}
        @type="time"
      />
    {{else if (eq @type "generic")}}
      {{yield (hash Generic=(component "hds/filter-bar/filter-group/generic" onChange=this.onGenericChange))}}
    {{else}}
      <div class="hds-filter-bar__filter-group__values-list">
        <div class="hds-filter-bar__filter-group__clear">
          <Hds::Button
            @text={{hds-t
              "hds.components.filter-bar.filter-group.values-list.clear-selection"
              default="Clear selection"
            }}
            @color="tertiary"
            @size="small"
            @icon="rotate-ccw"
            {{on "click" this.onClear}}
          />
        </div>
        <fieldset class="hds-filter-bar__filter-group__list">
          <legend class="sr-only">
            {{hds-t "hds.components.filter-bar.filter-group.values-list.legend" text=@text default="Filter by options"}}
          </legend>
          {{yield
            (hash
              Checkbox=(component
                "hds/filter-bar/filter-group/checkbox"
                keyFilter=this.keyFilter
                searchValue=this.searchValue
                onChange=this.onSelectionChange
              )
              Radio=(component
                "hds/filter-bar/filter-group/radio"
                keyFilter=this.keyFilter
                searchValue=this.searchValue
                onChange=this.onSelectionChange
              )
            )
          }}
        </fieldset>
      </div>
    {{/if}}
  </Panel>
{{/let}}