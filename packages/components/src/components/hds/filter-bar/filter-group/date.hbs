{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
<Hds::FilterBar::FilterGroup::Generic
  class="hds-filter-bar__filter-group__date"
  @onChange={{this.onChange}}
  ...attributes
  as |G|
>
  <fieldset class="hds-filter-bar__filter-group__fieldset">
    <legend class="sr-only">
      {{hds-t "hds.components.filter-bar.filter-group.date.legend" text=@text default="Filter by date"}}
    </legend>
    <Hds::Form::Select::Field
      @id={{this._selectorInputId}}
      name={{concat @key "-selector"}}
      {{on "change" (fn this.onSelectorChange G.updateFilter)}}
      class="hds-filter-bar__filter-group__field"
      as |F|
    >
      <F.Label>{{this.selectorLabelText}}</F.Label>
      <F.Options>
        <option value="">{{hds-t
            "hds.components.filter-bar.filter-group.date.selector-input.default-value"
            default="Pick a selector"
          }}</option>
        {{#each this._selectorValues as |selectorValue|}}
          <option value={{selectorValue}} selected={{eq selectorValue this.selector}}>{{this._getSelectorText
              selectorValue
            }}</option>
        {{/each}}
      </F.Options>
    </Hds::Form::Select::Field>
    {{#if (eq this.selector "between")}}
      <Hds::Layout::Flex @gap="8" @direction={{if (eq @type "datetime") "column" "row"}}>
        <Hds::Form::TextInput::Base
          @id={{this._betweenValueStartInputId}}
          @type={{this.inputType}}
          @value={{this.betweenValueStart}}
          name={{concat @key "-between-start"}}
          aria-label={{hds-t
            "hds.components.filter-bar.filter-group.date.between-value-inputs.start.aria-label"
            type=this.type
            default="Date start value"
          }}
          placeholder={{hds-t
            "hds.components.filter-bar.filter-group.date.between-value-inputs.start.placeholder"
            default="Start"
          }}
          class="hds-filter-bar__filter-group__field hds-filter-bar__filter-group__field--between"
          {{on "change" (fn this.onBetweenValueStartChange G.updateFilter)}}
        />
        <Hds::Form::TextInput::Base
          @id={{this._betweenValueEndInputId}}
          @type={{this.inputType}}
          @value={{this.betweenValueEnd}}
          name={{concat @key "-between-end"}}
          aria-label={{hds-t
            "hds.components.filter-bar.filter-group.date.between-value-inputs.end.aria-label"
            type=this.type
            default="Date end value"
          }}
          placeholder={{hds-t
            "hds.components.filter-bar.filter-group.date.between-value-inputs.end.placeholder"
            default="End"
          }}
          class="hds-filter-bar__filter-group__field hds-filter-bar__filter-group__field--between"
          {{on "change" (fn this.onBetweenValueEndChange G.updateFilter)}}
        />
      </Hds::Layout::Flex>
    {{else}}
      <Hds::Form::TextInput::Base
        @id={{this._valueInputId}}
        @type={{this.inputType}}
        @value={{this.value}}
        name={{concat @key "-value"}}
        aria-label={{hds-t
          "hds.components.filter-bar.filter-group.date.value-input.aria-label"
          type=this.type
          default="Date value"
        }}
        class="hds-filter-bar__filter-group__field"
        {{on "change" (fn this.onValueChange G.updateFilter)}}
      />
    {{/if}}
  </fieldset>
</Hds::FilterBar::FilterGroup::Generic>