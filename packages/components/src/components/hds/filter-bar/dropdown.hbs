{{! @glint-nocheck }}
<Hds::SegmentedGroup class={{this.classNames}} data-filter-key="{{@key}}" as |SG|>
  <SG.Button
    @text="Clear filter"
    @icon="x"
    @color="secondary"
    @size="small"
    @isIconOnly={{true}}
    {{on "click" this.onDismiss}}
  />
  <SG.Dropdown
    @listPosition="bottom-left"
    @height="240px"
    @searchEnabled={{@searchEnabled}}
    @searchPlaceholder="Search {{@key}}"
    {{this._setUpDropdown}}
    as |D|
  >
    <D.ToggleButton @text={{this.toggleButtonText}} @color="secondary" @size="small" />
    {{#if (eq @type "range")}}
      <Hds::FilterBar::Range
        @generic={{D.Generic}}
        @keyFilter={{this.internalFilters}}
        @onChange={{this.onRangeChange}}
      />
    {{else}}
      {{yield
        (hash
          Checkbox=(component
            "hds/filter-bar/checkbox" checkbox=D.Checkbox keyFilter=this.internalFilters onChange=this.onSelectionChange
          )
          Radio=(component
            "hds/filter-bar/radio" radio=D.Radio keyFilter=this.internalFilters onChange=this.onSelectionChange
          )
        )
      }}
    {{/if}}
    {{#unless @isLiveFilter}}
      <D.Footer @hasDivider={{true}}>
        <Hds::ButtonSet>
          <Hds::Button
            @text="Apply filters"
            @isFullWidth={{true}}
            @size="small"
            {{on "click" (fn this.onApply D.close)}}
          />
          <Hds::Button @text="Clear" @color="secondary" @size="small" {{on "click" (fn this.onClear D.close)}} />
        </Hds::ButtonSet>
      </D.Footer>
    {{/unless}}
  </SG.Dropdown>
</Hds::SegmentedGroup>