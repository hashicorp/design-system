{{! @glint-nocheck }}
<Hds::Dropdown
  @listPosition="bottom-left"
  @height="240px"
  @searchEnabled={{@searchEnabled}}
  @searchPlaceholder="Search {{@key}}"
  @onDismiss={{this.onDismiss}}
  {{this._setUpDropdown}}
  class={{this.classNames}}
  data-filter-key="{{@key}}"
  as |D|
>
  <D.ToggleButton @text={{this.toggleButtonText}} @color="secondary" @size="small" />
  {{#if (eq @type "range")}}
    <Hds::FilterBar::Range
      @generic={{D.Generic}}
      @keyFilter={{this.internalFilters}}
      @onChange={{this.onRangeChange}}
    />
  {{else}}
    {{yield
      (hash
        Checkbox=(component
          "hds/filter-bar/checkbox" checkbox=D.Checkbox keyFilter=this.internalFilters onChange=this.onSelectionChange
        )
        Radio=(component
          "hds/filter-bar/radio" radio=D.Radio keyFilter=this.internalFilters onChange=this.onSelectionChange
        )
      )
    }}
  {{/if}}
  {{#unless @isLiveFilter}}
    <D.Footer @hasDivider={{true}}>
      <Hds::ButtonSet>
        <Hds::Button
          @text="Apply filters"
          @isFullWidth={{true}}
          @size="small"
          {{on "click" (fn this.onApply D.close)}}
        />
        <Hds::Button @text="Clear" @color="secondary" @size="small" {{on "click" (fn this.onClear D.close)}} />
      </Hds::ButtonSet>
    </D.Footer>
  {{/unless}}
</Hds::Dropdown>