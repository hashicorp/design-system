{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
<div class={{this.classNames}} {{style width=@width}} {{this._manageState}}>
  {{#if @isMultiline}}
    <Hds::Form::Textarea::Base
      class="hds-form-masked-input__control"
      @value={{@value}}
      @isInvalid={{@isInvalid}}
      @height={{@height}}
      ...attributes
      id={{this.id}}
      aria-describedby={{@ariaDescribedBy}}
    />
  {{else}}
    <Hds::Form::TextInput::Base
      class="hds-form-masked-input__control"
      @value={{@value}}
      @isInvalid={{@isInvalid}}
      ...attributes
      id={{this.id}}
      aria-describedby={{@ariaDescribedBy}}
    />
  {{/if}}
  <Hds::Form::VisibilityToggle
    @isVisible={{this.isContentMasked}}
    @ariaLabel={{this.visibilityToggleAriaLabel}}
    @ariaMessageText={{this.visibilityToggleAriaMessageText}}
    aria-controls={{this.id}}
    class="hds-form-masked-input__toggle-button"
    {{on "click" this.onClickToggleMasking}}
  />
  {{#if @hasCopyButton}}
    <Hds::Copy::Button
      class="hds-form-masked-input__copy-button"
      @text={{this.copyButtonText}}
      @isIconOnly={{true}}
      @targetToCopy="#{{this.id}}"
    />
  {{/if}}
</div>