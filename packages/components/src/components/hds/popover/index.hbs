{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
<Hds::MenuPrimitive
  class={{this.classNames}}
  @isOpen={{@isOpen}}
  @onClose={{@onClose}}
  @popoverOptions={{this.popoverOptions}}
  ...attributes
>
  <:toggle as |t|>
    {{!-- popovertarget={{t.popovertarget}} --}}
    {{#if @isInteractive}}
      <div
        {{! TODO! is this correct? }}
        aria-expanded={{if @isOpen "true" "false"}}
        {{did-insert t.didInsertToggle}}
      >
        {{yield to="toggle"}}
      </div>
    {{else}}
      <button
        class="hds-popover__button"
        {{! TODO! is this correct? }}
        aria-expanded={{if @isOpen "true" "false"}}
        {{did-insert t.didInsertToggle}}
        {{on "click" t.togglePopover}}
      >
        {{yield to="toggle"}}
      </button>
    {{/if}}
  </:toggle>
  <:content as |c|>
    <div class="hds-popover__content" {{style width=@width max-height=@height}}>
      {{yield (hash close=c.close) to="content"}}
    </div>
  </:content>
</Hds::MenuPrimitive>