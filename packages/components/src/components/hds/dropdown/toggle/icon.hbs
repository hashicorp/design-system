{{! @glint-nocheck: not typesafe yet }}
{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}
<button
  class={{this.classNames}}
  aria-label={{this.text}}
  ...attributes
  aria-expanded={{if @isOpen "true" "false"}}
  {{on "click" this.onClick}}
  {{did-update this.onDidUpdateImageSrc @imageSrc}}
  type="button"
>
  <div class="hds-dropdown-toggle-icon__wrapper">
    {{#if @imageSrc}}
      {{#if this.hasImage}}
        <img src={{@imageSrc}} alt="" role="presentation" {{on "error" this.onImageLoadError}} />
      {{else}}
        <FlightIcon @name="user" @size="16" @stretched={{true}} />
      {{/if}}
    {{else if @icon}}
      <FlightIcon @name={{@icon}} @size="16" @stretched={{true}} />
    {{/if}}
  </div>
  {{#if this.hasChevron}}
    <Hds::Dropdown::Toggle::Chevron />
  {{/if}}
</button>