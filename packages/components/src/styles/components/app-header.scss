/**
 * Copyright (c) HashiCorp, Inc.
 * SPDX-License-Identifier: MPL-2.0
 */

//
// APP-HEADER
//

@use "../mixins/focus-ring" as *;

// TODO: Move into shared location, consider updating color tokens used
@mixin hds-dark-interactive-theme($add-visible-border: false) {
  color: var(--token-color-palette-neutral-0);
  background-color: var(--token-color-palette-neutral-700);
  border: 1px solid transparent;
  border-radius: var(--token-side-nav-body-list-item-border-radius);
  cursor: pointer;

  @if ($add-visible-border) {
    border-color: var(--token-color-palette-neutral-500);
  }

  &:focus-visible,
  &.mock-focus {
    @include hds-focus-ring-with-pseudo-element($top: -1px, $right: -1px, $bottom: -1px, $left: -1px);

    // focus ring:
    &::before {
      color: var(--token-color-palette-neutral-0);
      border: none;
    }

    color: var(--token-color-palette-neutral-0);
    background-color: var(--token-color-palette-neutral-700);

    @if ($add-visible-border) {
      border-color: transparent;
    }
  }

  &:hover,
  &.mock-hover {
    color: var(--token-color-palette-neutral-0); // to avoid overrides by specificity (eg. `a:hover`)
    background-color: var(--token-color-palette-neutral-600);

    @if ($add-visible-border) {
      border-color: var(--token-color-palette-neutral-500);
    }
  }

  &:active,
  &.mock-active {
    color: var(--token-color-palette-neutral-0); // to avoid overrides by specificity (eg. `a:hover`)
    background-color: var(--token-color-palette-neutral-500);

    @if ($add-visible-border) {
      border-color: var(--token-color-palette-neutral-400);
    }
  }

  &:disabled,
  &.mock-disabled {
    color: var(--token-color-foreground-disabled);
    background-color: var(--token-color-palette-neutral-600);
  }
}

// ----------------
// Q: Create tokens?
$app-header-home-link-padding: 4px;

.hds-app-header {
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
  min-height: 52px; 
  padding: 8px 16px;
  color: #FFF;
  background: var(--token-color-palette-neutral-700);
  border-bottom: 1px solid var(--token-color-palette-neutral-500);
  box-shadow: 
    0 4px 4px -2px hsla(0deg, 0%, 0%, 20%),
    0 2px 3px 0 hsla(0deg, 0%, 0%, 10%);

  // Apply dark theme to child interactive components
  .hds-button,
  .hds-dropdown-toggle-button,
  .hds-dropdown-toggle-icon {
    @include hds-dark-interactive-theme(true);
  }
}

.hds-app-header__sub-section {
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
}

.hds-app-header__home-link {
  @include hds-dark-interactive-theme();
  display: block;
  width: 36px;
  height: 36px;
  padding: calc(#{$app-header-home-link-padding} - 1px); // by design - we take in account the transparent border
}