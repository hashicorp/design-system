/**
 * Copyright (c) HashiCorp, Inc.
 * SPDX-License-Identifier: MPL-2.0
 */

//
// STEPPER > NAVIGATION
//

@use "../../mixins/focus-ring" as *;

.hds-stepper-navigation__step-list,
.hds-stepper-navigation__step {
  margin: 0;
  padding: 0;
  list-style: none;
}

.hds-stepper-navigation__step-list {
  display: flex;
}

.hds-stepper-navigation__step {
  width: 100%;
}

.hds-stepper-navigation__step__btn {
  @include hds-focus-ring-with-pseudo-element(
    $top: -3px,
    $right: -1px,
    $bottom: -1px,
    $left: -1px,
    $radius: 0 0 6px 6px
  );
  border: none;
  cursor: pointer;

  &:hover,
  &.mock-hover,
  &:focus,
  &.mock-focus {
    .hds-stepper-navigation__step__text {
      background-color: var(--token-color-surface-interactive-hover);
      border-radius: 0 0 var(--token-border-radius-small) var(--token-border-radius-small);
    }
  }
}

.hds-stepper-navigation__step__btn,
.hds-stepper-navigation__step__content {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0;
  background-color: transparent;
}

.hds-stepper-navigation__step__progress {
  position: absolute;
  top: -12px;
  left: 0;
  z-index: 0;
  display: flex;
  justify-content: center;
  width: 100%;

  &::before,
  &::after {
    position: absolute;
    top: 10px;
    left: 0;
    z-index: -1;
    width: 100%;
    height: 4px;
    content: "";
  }

  &::before {
    background-color: var(--token-color-border-primary);
  }

  &::after {
    background-color: var(--token-color-foreground-strong);
  }
}

.hds-stepper-navigation .hds-stepper-navigation__step:first-of-type .hds-stepper-navigation__step__progress::before,
.hds-stepper-navigation .hds-stepper-navigation__step:first-of-type .hds-stepper-navigation__step__progress::after {
  border-radius: 20px 0 0 20px;
}

.hds-stepper-navigation .hds-stepper-navigation__step:last-of-type .hds-stepper-navigation__step__progress::before,
.hds-stepper-navigation .hds-stepper-navigation__step:last-of-type .hds-stepper-navigation__step__progress::after {
  border-radius: 0 20px 20px 0;
}

.hds-stepper-navigation__step__text {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px 12px 12px 12px;
}

.hds-stepper-navigation__step__description {
  margin-top: 4px;
}

// STAUSES

// Complete & Active

// Incomplete

.hds-stepper-navigation__step-incomplete .hds-stepper-navigation__step__progress::after {
  width: 0;
}

// Active

.hds-stepper-navigation__step-active .hds-stepper-navigation__step__progress::after {
  width: 46%;
  border-radius: 0 20px 20px 0;
}

// Complete

.hds-stepper-navigation__step-complete .hds-stepper-navigation__step__progress::after {
  width: 100%;
}

// INTERACTIVE

.hds-stepper-navigation__step-interactive {
  .hds-stepper-navigation__step__progress::after {
    background-color: var(--token-color-palette-blue-200);
  }
}