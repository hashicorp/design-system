/**
 * Copyright (c) HashiCorp, Inc.
 * SPDX-License-Identifier: MPL-2.0
 */

//
// SIDE-NAV > HEADER
//

@use "../../mixins/interactive-dark-theme" as *;

// HEADER (LAYOUT WRAPPER)

.hds-side-nav-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

// LOGO

.hds-side-nav-header__logo-container {
  display: flex;
  flex: none;
  align-items: center;
  justify-content: center;
  width: var(--token-side-nav-header-home-link-logo-size);
  height: var(--token-side-nav-header-home-link-logo-size);
  transition:
    width var(--hds-app-sidenav-animation-duration) var(--hds-app-sidenav-animation-easing),
    height var(--hds-app-sidenav-animation-duration) var(--hds-app-sidenav-animation-easing);

  .hds-side-nav--is-minimized & {
    width: var(--token-side-nav-header-home-link-logo-size-minimized);
    height: var(--token-side-nav-header-home-link-logo-size-minimized);
  }
}

// "home-link"

.hds-side-nav__home-link {
  @include hds-interactive-dark-theme($add-visible-border: false, $is-within-side-nav: true);
  display: block;
  width: 100%;
  height: 100%;
  padding: calc(
    var(--token-side-nav-header-home-link-padding) - 1px
  ); // by design -  we take in account the transparent border

  // disabled state:
  &:disabled,
  &[disabled],
  &.mock-disabled,
  &:disabled:focus,
  &[disabled]:focus,
  &.mock-disabled:focus,
  &:disabled:hover,
  &[disabled]:hover,
  &.mock-disabled:hover {
    @include hds-interactive-dark-theme-state-disabled();
  }
}

// ACTIONS

.hds-side-nav-header__actions-container {
  display: flex;
  gap: var(--token-side-nav-header-actions-spacing);
}

// Dropdown & Button color theming overrides

// Similar to original (w/ reduced selectors): using :not selector

/*
.hds-side-nav {
  .hds-button,
  .hds-dropdown-toggle-button,
  .hds-dropdown-toggle-icon {
    // Apply dark theme to child interactive components not within a nested dropdown
    &:not(.hds-dropdown * *, .ember-basic-dropdown * *, .hds-dialog-primitive__wrapper *) {
      @include hds-interactive-dark-theme();

      // disabled state:
      &:disabled,
      &[disabled],
      &.mock-disabled,
      &:disabled:focus,
      &[disabled]:focus,
      &.mock-disabled:focus,
      &:disabled:hover,
      &[disabled]:hover,
      &.mock-disabled:hover {
        @include hds-interactive-dark-theme-state-disabled();
      }
    }
  }
}
*/

// TEST: More optimized selectors (w/o :not)

/*
.hds-side-nav {
  // header content:
  .hds-side-nav__wrapper-header,
  .hds-side-nav-header__actions-container,
  // body content:
  .hds-side-nav__wrapper-body,
  .hds-side-nav__list-wrapper,
  .hds-side-nav__list-item,
  // footer content:
  .hds-side-nav__wrapper-footer {
    > .hds-button,
    > .hds-dropdown > button {
      @include hds-interactive-dark-theme();

      // disabled state:
      &:disabled,
      &[disabled],
      &.mock-disabled,
      &:disabled:focus,
      &[disabled]:focus,
      &.mock-disabled:focus,
      &:disabled:hover,
      &[disabled]:hover,
      &.mock-disabled:hover {
        @include hds-interactive-dark-theme-state-disabled();
      }
    }
  }
}
*/

// TEST: partial class selector
[class*="hds-side-nav"] {
  > .hds-button,
  > .hds-dropdown > button,
  > [class*="hds-dropdown-toggle"] {
    @include hds-interactive-dark-theme();

    // disabled state:
    &:disabled,
    &[disabled],
    &.mock-disabled,
    &:disabled:focus,
    &[disabled]:focus,
    &.mock-disabled:focus,
    &:disabled:hover,
    &[disabled]:hover,
    &.mock-disabled:hover {
      @include hds-interactive-dark-theme-state-disabled();
    }
  }
}

// TEST: @scope selector (not enough browser support though...)

/*
@scope (.hds-side-nav) to (.ember-basic-dropdown, .hds-dropdown__content, dialog) {
  .hds-button,
  .hds-dropdown-toggle-button,
  .hds-dropdown-toggle-icon {
    @include hds-interactive-dark-theme();

    // disabled state:
    &:disabled,
    &[disabled],
    &.mock-disabled,
    &:disabled:focus,
    &[disabled]:focus,
    &.mock-disabled:focus,
    &:disabled:hover,
    &[disabled]:hover,
    &.mock-disabled:hover {
      @include hds-interactive-dark-theme-state-disabled();
    }
  }
}
*/
