{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

<div class="hds-code-block-wrapper">
  <pre class={{this.classNames}} ...attributes>
    {{~! ~}}
    <code
      class="hds-code-block__code"
      {{style maxHeight=@maxHeight}}
      {{hds-code-mirror
        value=@value
        options=@options
        lineNumbers=@lineNumbers
        lineWrapping=@lineWrapping
        readOnly=@readOnly
        mode=@language
      }}
    ></code>
    {{~! ~}}
  </pre>

  {{#if @hasCopyButton}}
    <Hds::Copy::Button
      @text="Copy"
      @isIconOnly={{true}}
      @size="small"
      class="hds-code-block__copy-button"
      @textToCopy={{@value}}
    />
  {{/if}}
</div>