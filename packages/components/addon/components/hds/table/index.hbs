<table class={{this.classNames}} data-test-table ...attributes>
  {{#if this.isSortableTable}}
    <caption class="sr-only" aria-live="polite">{{this.sortedMessageText}}</caption>
  {{/if}}
  <thead class="hds-table__thead" data-test-table-head>
    {{#if this.isSortableTable}}
      {{#each this.columns as |column|}}
        {{#if column.isSortableColumn}}
          <Hds::Table::ThSort
            @sortKey={{column.key}}
            @sortBy={{this.sortBy}}
            @sortOrder={{this.sortOrder}}
            @setSortBy={{this.setSortBy}}
          >
            {{column.label}}
          </Hds::Table::ThSort>
        {{else}}
          <Hds::Table::Th>{{column.label}}</Hds::Table::Th>
        {{/if}}
      {{/each}}
    {{else}}
      {{yield (hash Tr=(component "hds/table/tr") Th=(component "hds/table/th")) to="head"}}
    {{/if}}
  </thead>
  <tbody class="hds-table__tbody" data-test-table-body>
    {{#if this.isSortableTable}}
      {{#each (sort-by this.getSortCriteria @model) as |data|}}
        {{yield data to="body"}}
      {{/each}}
    {{else if @model}}
      {{#each @model as |record|}}
        {{yield record to="body"}}
      {{/each}}
    {{else}}
      {{yield to="body"}}
    {{/if}}
  </tbody>
</table>