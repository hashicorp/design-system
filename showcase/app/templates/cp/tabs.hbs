{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{page-title "Tabs Component"}}

<Shw::Text::H1>Tabs</Shw::Text::H1>

<section data-test-percy class={{if this.showHighlight "shw-component-tabs-layout-highlight"}}>

  <button id="shw-component-toggle-highlight" type="button" {{on "click" this.toggleHighlight}}>
    {{if this.showHighlight "Hide" "Show"}}
    layout highlight
  </button>

  <Shw::Text::H2>Size</Shw::Text::H2>

  <Shw::Flex @direction="column" as |SF|>
    {{#each @model.SIZES as |size|}}
      <SF.Item @label={{capitalize size}}>
        <Hds::Tabs @size={{size}} as |T|>
          <T.Tab>One</T.Tab>
          <T.Tab>Two</T.Tab>
          <T.Tab>Three</T.Tab>

          <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
          <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
          <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
        </Hds::Tabs>
      </SF.Item>
    {{/each}}
  </Shw::Flex>

  <Shw::Text::H2>Variants</Shw::Text::H2>

  <Shw::Text::Body>Basic usage</Shw::Text::Body>

  <Hds::Tabs as |T|>
    <T.Tab>One</T.Tab>
    <T.Tab>Two</T.Tab>
    <T.Tab>Three</T.Tab>

    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>With optional icon and badge count</Shw::Text::Body>

  <Hds::Tabs as |T|>
    <T.Tab @count="5">One</T.Tab>
    <T.Tab @icon="info">Two</T.Tab>
    <T.Tab>Three</T.Tab>
    <T.Tab @icon="alert-triangle" @count="5">Four</T.Tab>

    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content four" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>With pre-selected tab</Shw::Text::Body>

  <Hds::Tabs as |T|>
    <T.Tab>One</T.Tab>
    <T.Tab>Two</T.Tab>
    <T.Tab @isSelected={{true}}>Three (selected on page load)</T.Tab>

    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel>
      <Shw::Placeholder @text="Content three (displayed on page load)" @height="50" />
    </T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>With overflowing tabs</Shw::Text::Body>

  <Hds::Tabs as |T|>
    <T.Tab>One one-thousand</T.Tab>
    <T.Tab>Two one-thousand</T.Tab>
    <T.Tab>Three one-thousand</T.Tab>
    <T.Tab>Four one-thousand</T.Tab>
    <T.Tab>Five one-thousand</T.Tab>
    <T.Tab>Six one-thousand</T.Tab>
    <T.Tab>Seven one-thousand</T.Tab>
    <T.Tab>Eight one-thousand</T.Tab>
    <T.Tab>Nine one-thousand</T.Tab>
    <T.Tab>Ten one-thousand</T.Tab>

    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content four" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content five" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content six" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content seven" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content eight" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content nine" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content ten" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>Invoking a callback function when a tab is clicked</Shw::Text::Body>

  <Hds::Tabs @onClickTab={{this.logClickedTab}} as |T|>
    <T.Tab>One</T.Tab>
    <T.Tab>Two</T.Tab>
    <T.Tab>Three</T.Tab>

    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Divider />

  <Shw::Text::H2>Base elements</Shw::Text::H2>

  <Shw::Text::H3>Tabs::Tab</Shw::Text::H3>

  <Shw::Text::H4>Content</Shw::Text::H4>

  <Shw::Flex @direction="column" as |SF|>
    {{#each @model.SIZES as |size|}}
      <SF.Item @label={{capitalize size}}>
        <Shw::Flex as |SF|>
          <SF.Item @label="Text only">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab>Lorem ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
          <SF.Item @label="Icon + Text">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab @icon="hexagon">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
          <SF.Item @label="Text + Counter">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab @count="10">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
          <SF.Item @label="Icon + Text + Counter">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab @icon="hexagon" @count="10">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
        </Shw::Flex>
      </SF.Item>
    {{/each}}
  </Shw::Flex>

  <Shw::Text::H4>States</Shw::Text::H4>

  <Shw::Flex @direction="column" as |SF|>
    {{#each @model.SIZES as |size|}}
      <SF.Item @label={{capitalize size}}>
        <Shw::Flex as |SF|>
          <SF.Item @label="Default">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab>Lorem ipsum</Hds::Tabs::Tab>
              </ul>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab @icon="hexagon" @count="10">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
          <SF.Item @label="Hover">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab mock-state-value="hover">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab @icon="hexagon" @count="10" mock-state-value="hover">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
          <SF.Item @label="Focus">
            <div class={{concat "hds-tabs--size-" size}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab mock-state-value="focus" mock-state-selector="button">Lorem ipsum</Hds::Tabs::Tab>
              </ul>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab @icon="hexagon" @count="10" mock-state-value="focus" mock-state-selector="button">Lorem
                  ipsum</Hds::Tabs::Tab>
              </ul>
            </div>
          </SF.Item>
          <SF.Item @label="Focus selected Tab">
            <div class={{concat "hds-tabs--size-" size " shw-component-tabs-selector-example"}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab
                  mock-state-value="focus"
                  class="hds-tabs__tab--is-selected"
                  mock-state-selector="button"
                >Lorem ipsum</Hds::Tabs::Tab>
                {{! template-lint-disable no-invalid-role }}
                <li class="hds-tabs__tab-indicator" role="presentation"></li>
                {{! template-lint-enable no-invalid-role }}
              </ul>
            </div>
            <div class={{concat "hds-tabs--size-" size " shw-component-tabs-selector-example"}}>
              <ul class="shw-component-tabs-sample-ul-wrapper" role="tablist">
                <Hds::Tabs::Tab
                  @icon="hexagon"
                  @count="10"
                  class="hds-tabs__tab--is-selected"
                  mock-state-value="focus"
                  mock-state-selector="button"
                >Lorem ipsum</Hds::Tabs::Tab>
                {{! template-lint-disable no-invalid-role }}
                <li class="hds-tabs__tab-indicator" role="presentation"></li>
                {{! template-lint-enable no-invalid-role }}
              </ul>
            </div>
          </SF.Item>
        </Shw::Flex>
      </SF.Item>
    {{/each}}
  </Shw::Flex>

  <Shw::Text::H3>Tabs::Panel</Shw::Text::H3>

  <Hds::Tabs::Panel>
    <Shw::Placeholder @text="Panel with generic content" @height="50" />
  </Hds::Tabs::Panel>

  <Shw::Divider />

  <Shw::Text::H2 @tag="h2">Examples of tabs implementation</Shw::Text::H2>

  <Shw::Text::H3>Internal vs external/controlled state</Shw::Text::H3>

  <Shw::Text::Body>Internal state (set via <code>@isSelected</code>)</Shw::Text::Body>
  <Hds::Tabs as |T|>
    <T.Tab>One</T.Tab>
    <T.Tab>Two</T.Tab>
    <T.Tab @isSelected={{true}}>Three (@isSelected)</T.Tab>
    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel>
      <Shw::Placeholder @text="Content three (on page load)" @height="50" />
    </T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>External state (set via
    <code>@selectedTabIndex</code>
    and controlled via query params)</Shw::Text::Body>

  <Hds::Tabs @selectedTabIndex={{this.selectedTabDemo1}} @onClickTab={{this.updateQueryParamDemo1}} as |T|>
    <T.Tab>One</T.Tab>
    <T.Tab>Two</T.Tab>
    <T.Tab>Three</T.Tab>
    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Divider @level={{2}} />

  <Shw::Text::H3>Nested tabs</Shw::Text::H3>

  <Shw::Text::Body>Basic example</Shw::Text::Body>
  <Hds::Tabs as |T|>
    <T.Tab>🐤 One</T.Tab>
    <T.Tab>🦋 Two</T.Tab>
    <T.Tab>🐙 Three</T.Tab>
    <T.Panel as |P|>
      <Hds::Tabs @isParentVisible={{P.isVisible}} as |ST|>
        <ST.Tab>🐤 Tab One - Sub-tab A</ST.Tab>
        <ST.Tab>🐤 Tab One - Sub-tab B</ST.Tab>
        <ST.Tab>🐤 Tab One - Sub-tab C</ST.Tab>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content A" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content B" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content C" @height="50" /></ST.Panel>
      </Hds::Tabs>
    </T.Panel>
    <T.Panel as |P|>
      <Hds::Tabs @isParentVisible={{P.isVisible}} as |ST|>
        <ST.Tab>🦋 Tab Two - Sub-tab A</ST.Tab>
        <ST.Tab>🦋 Tab Two - Sub-tab B</ST.Tab>
        <ST.Panel><Shw::Placeholder @text="🦋 Tab Two - Content A" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🦋 Tab Two - Content B" @height="50" /></ST.Panel>
      </Hds::Tabs>
    </T.Panel>
    <T.Panel><Shw::Placeholder @text="🐙 Tab Three - Content" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>With selected tabs (via <code>@isSelected</code>)</Shw::Text::Body>
  <Hds::Tabs as |T|>
    <T.Tab>🐤 One</T.Tab>
    <T.Tab @isSelected={{true}}>🦋 Two</T.Tab>
    <T.Tab>🐙 Three</T.Tab>
    <T.Panel as |P|>
      <Hds::Tabs @isParentVisible={{P.isVisible}} as |ST|>
        <ST.Tab>🐤 Tab One - Sub-tab A</ST.Tab>
        <ST.Tab>🐤 Tab One - Sub-tab B</ST.Tab>
        <ST.Tab>🐤 Tab One - Sub-tab C</ST.Tab>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content A" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content B" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content C" @height="50" /></ST.Panel>
      </Hds::Tabs>
    </T.Panel>
    <T.Panel as |P|>
      <Hds::Tabs @isParentVisible={{P.isVisible}} as |ST|>
        <ST.Tab>🦋 Tab Two - Sub-tab A</ST.Tab>
        <ST.Tab @isSelected={{true}}>🦋 Tab Two - Sub-tab B</ST.Tab>
        <ST.Panel><Shw::Placeholder @text="🦋 Tab Two - Content A" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🦋 Tab Two - Content B" @height="50" /></ST.Panel>
      </Hds::Tabs>
    </T.Panel>
    <T.Panel><Shw::Placeholder @text="🐙 Tab Three - Content" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Text::Body>With controlled/persisted state (via query params)</Shw::Text::Body>
  <Hds::Tabs @selectedTabIndex={{this.selectedTabDemo2}} @onClickTab={{this.updateQueryParamDemo2}} as |T|>
    <T.Tab>🐤 One</T.Tab>
    <T.Tab>🦋 Two</T.Tab>
    <T.Tab>🐙 Three</T.Tab>
    <T.Panel as |P|>
      <Hds::Tabs
        @selectedTabIndex={{this.selectedTabDemo2_SubTab1}}
        @onClickTab={{this.updateQueryParamDemo2_SubTab1}}
        @isParentVisible={{P.isVisible}}
        as |ST|
      >
        <ST.Tab>🐤 Tab One - Sub-tab A</ST.Tab>
        <ST.Tab>🐤 Tab One - Sub-tab B</ST.Tab>
        <ST.Tab>🐤 Tab One - Sub-tab C</ST.Tab>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content A" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content B" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🐤 Tab One - Content C" @height="50" /></ST.Panel>
      </Hds::Tabs>
    </T.Panel>
    <T.Panel as |P|>
      <Hds::Tabs
        @selectedTabIndex={{this.selectedTabDemo2_SubTab2}}
        @onClickTab={{this.updateQueryParamDemo2_SubTab2}}
        @isParentVisible={{P.isVisible}}
        as |ST|
      >
        <ST.Tab>🦋 Tab Two - Sub-tab A</ST.Tab>
        <ST.Tab>🦋 Tab Two - Sub-tab B</ST.Tab>
        <ST.Panel><Shw::Placeholder @text="🦋 Tab Two - Content A" @height="50" /></ST.Panel>
        <ST.Panel><Shw::Placeholder @text="🦋 Tab Two - Content B" @height="50" /></ST.Panel>
      </Hds::Tabs>
    </T.Panel>
    <T.Panel><Shw::Placeholder @text="🐙 Tab Three - Content" @height="50" /></T.Panel>
  </Hds::Tabs>

  <Shw::Divider @level={{2}} />

  <Shw::Text::H3>Dynamic content</Shw::Text::H3>

  <div class="shw-component-tabs-example-heading">
    <Shw::Text::Body>Variable tabs width</Shw::Text::Body>
    <button type="button" {{on "click" this.updateBadgesValuesDemo3}}>update badge values</button>
  </div>
  <Hds::Tabs as |T|>
    <T.Tab @count={{this.badge1_demo3}}>One</T.Tab>
    <T.Tab @count={{this.badge2_demo3}}>Two</T.Tab>
    <T.Tab @count={{this.badge3_demo3}}>Three</T.Tab>
    <T.Panel><Shw::Placeholder @text="Content of first tab" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content of second tab" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content of third tab" @height="50" /></T.Panel>
  </Hds::Tabs>

  <div class="shw-component-tabs-example-heading">
    <Shw::Text::Body>Dynamic <code>@isSelected</code> argument</Shw::Text::Body>
    <div class="shw-component-tabs-example-heading-button-set">
      <span>@isSelected = </span>
      <button type="button" {{on "click" (fn this.setAtSelectedDemo4 "one")}}>"one"</button>
      <button type="button" {{on "click" (fn this.setAtSelectedDemo4 "two")}}>"two"</button>
      <button type="button" {{on "click" (fn this.setAtSelectedDemo4 "three")}}>"three"</button>
    </div>
  </div>
  <Hds::Tabs as |T|>
    <T.Tab @isSelected={{eq this.atSelected_demo4 "one"}}>One</T.Tab>
    <T.Tab @isSelected={{eq this.atSelected_demo4 "two"}}>Two</T.Tab>
    <T.Tab @isSelected={{eq this.atSelected_demo4 "three"}}>Three</T.Tab>
    <T.Panel><Shw::Placeholder @text="Content one" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content two" @height="50" /></T.Panel>
    <T.Panel><Shw::Placeholder @text="Content three" @height="50" /></T.Panel>
  </Hds::Tabs>

  <div class="shw-component-tabs-example-heading">
    <Shw::Text::Body>Dynamic <code>@isSelected</code> argument within a loop</Shw::Text::Body>
    <div class="shw-component-tabs-example-heading-button-set">
      <span>@isSelected = </span>
      <button type="button" {{on "click" (fn this.setSelectedTabDemo5 "one")}}>"one"</button>
      <button type="button" {{on "click" (fn this.setSelectedTabDemo5 "two")}}>"two"</button>
      <button type="button" {{on "click" (fn this.setSelectedTabDemo5 "three")}}>"three"</button>
    </div>
  </div>
  <Hds::Tabs as |T|>
    {{#each this.tabsDemo5 as |tab|}}
      <T.Tab @isSelected={{tab.isSelected}}>{{tab.label}}</T.Tab>
      <T.Panel><Shw::Placeholder @text={{tab.content}} @height="50" /></T.Panel>
    {{/each}}
  </Hds::Tabs>

</section>